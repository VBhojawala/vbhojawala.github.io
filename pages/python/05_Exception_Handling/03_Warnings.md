---
title: Warnings
layout: tutorial
tags: []
sidebar: python_sidebar
permalink: python_warnings.html
folder: python
prev_section: 
prev_section_title: 
prev: python_traceback.html
prev_title: Traceback
next: 
next_title: 
next_section: 
next_section_title: 
summary: 
---

## Warnings

<p> Warning message is issued when program is behaving abnormally but not at the level of raising exception such as use of deprecated module.</p>

<div id="tut-content"> 
    <ul>
        <li> Warning messages are written to std.err, but it can be changed to ignore it or turning it in to Exception. </li>
    </ul> 
</div>


### Warning Class hierarchy

<div id="tut-img">
    <img src="/images/tutorials/python/WarningClassHierarchy.gif" class="tut-img" alt="python logo">
</div>


<div id="tut-content"> 
    <ul>    
        <li> <strong> UserWarning  : </strong> Base class for all warnings generated by user code. </li>
        <li> <strong> DeprecationWarning : </strong> Base class for warnings about deprecated features intended for python developers. </li>
        <li> <strong> PendingDeprecationWarning : </strong> Base class for warnings about features which are obsolete and expected to be deprecated in the future, but are not deprecated at the moment. </li>
        <li> <strong> SyntaxWarning : </strong> Base class for warnings about incorrect syntax. </li>
        <li> <strong> RuntimeWarning : </strong> Base class for warnings about unexpected runtime behavior. </li>
        <li> <strong> ImportWarning : </strong> Base class for warnings about probable mistakes in module imports.</li>
        <li> <strong> UnicodeWarning : </strong> Base class for warnings related to Unicode.</li>
        <li> <strong> BytesWarning : </strong> Base class for warnings related to bytes and bytearray. </li>
        <li> <strong> ResourceWarning : </strong> Base class for warnings related to resource usage. Ignored by the default warning filters. </li>
        <li> <strong> FutureWarning : </strong> Base class for warnings about deprecated features intended for end users of an application. </li>
    </ul>
</div>


### Raising warning

#### warn(message, category=None, stacklevel=1, source=None)

<p> Issues the warning with given parameters. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> message : </strong> str containing warning message or warning instance. </li>
        <li> <strong> category : </strong> If given must be subclass of Warning, by default it's UserWarning. </li>
        <li> <strong> stacklevel : </strong> determines origin of warning message. </li>
        <li> <strong> source : </strong>  If given, it's a destroyed object which emitted a ResourceWarning. </li>
    </ul> 
</div>


<hr/>


<p> <i class="fa fa-file-text" aria-hidden="true"></i> UserAuth.py </p>

{% assign code_block = code_block | plus: 1 %}
{% assign code_block_id = "code-block-" | append: code_block %}
{% assign code_header_id = "code-header-" | append: code_block %}
<div id="{{ code_block_id }}" class="code-block">
<p id= "{{ code_header_id }}" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("{{ code_block_id }}", "{{ code_header_id }}")</script>
{% highlight python %}

import warnings


def user_auth(user):
    warnings.warn('Deprecated auth protocol', UserWarning, stacklevel=2)


{% endhighlight %}
</div>


<hr/>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> AuthClient.py </p>

{% assign code_block = code_block | plus: 1 %}
{% assign code_block_id = "code-block-" | append: code_block %}
{% assign code_header_id = "code-header-" | append: code_block %}
<div id="{{ code_block_id }}" class="code-block">
<p id= "{{ code_header_id }}" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("{{ code_block_id }}", "{{ code_header_id }}")</script>
{% highlight python %}

import UserAuth

UserAuth.user_auth('admin')


{% endhighlight %}
</div>





<div class="result"><p class="result-header"><b>Output</b></p>
<pre id='tut-output-error' class="result-content">/home/asha/PycharmProjects/pythonEx/05_ExceptionHandling/progs/AuthClient.py:3: UserWarning: Deprecated auth protocol
  UserAuth.user_auth('admin')</pre></div>


<div id="tut-content"> 
    <ul>
        <li> calling user_auth() function from AuthClient.py without stacklevel will point file UerAuth.py in warning with stacklevel defined it will point to AuthClient.py where actual function call is made. </li>
        <li> In above example stack level raises warning from where the user_auth call is made, rather than raising from the function itself. </li>
    </ul> 
</div>

<hr/>


### Warnings Filter

<p> The warnings filter determines whether warnings are ignored, displayed, or turned into errors. </p>

<p> Format of warning message  : </p>
<p id="tut-cons"> Tuple(action, message, category, module, lineno) </p>


#### action

 value    |      Disposition
 :--- | :----
 'default'  |  prints first occurrences of matching warning message for each location (module + lineno)
 'error'    |  turns matching warning into exception
 'ignore'   |  no print for matching warnings
 'always'   |  always prints matching warning
 'module'   |  print first occurrences of matching warning message for each module
 'once'     |  prints first occurrence of matching warnings, regardless of location

<br/>

<p> <strong> Syntax :  </strong>  python -W &lt;action> my_prog.py</p>
<p> <strong> example :  </strong> python -W error my_prog.py</p> 


<p> <i class="fa fa-file-text" aria-hidden="true"></i> WarningError.py </p>

{% assign code_block = code_block | plus: 1 %}
{% assign code_block_id = "code-block-" | append: code_block %}
{% assign code_header_id = "code-header-" | append: code_block %}
<div id="{{ code_block_id }}" class="code-block">
<p id= "{{ code_header_id }}" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("{{ code_block_id }}", "{{ code_header_id }}")</script>
{% highlight python %}

from warnings import warn

warn('Warning!')

print('After Warning')



{% endhighlight %}
</div>

<br/>

<div class="result"><p class="result-header"><b>Terminal Execution</b></p>
<pre class="result-content">
(venv) [asha@Tutorials progs]$ <div id="tut-highlight">python -W error WarningError.py</div>
Traceback (most recent call last):
  File "WarningError.py", line 3, in &lt;module>
    warn('Warning!')
UserWarning: Warning!

</pre></div>

<br/>


<div class="result"><p class="result-header"><b>Terminal Execution</b></p>
<pre class="result-content">
(venv) [asha@Tutorials progs]$ <div id="tut-highlight">python -W default WarningError.py </div>
WarningError.py:3: UserWarning: Warning!
  warn('Warning!')
After Warning
</pre></div>

<br/>


<div class="result"><p class="result-header"><b>Terminal Execution</b></p>
<pre class="result-content">
(venv) [asha@Tutorials progs]$ <div id="tut-highlight">python -W ignore WarningError.py </div>
After Warning
</pre></div>


<hr/>


<div id="tut-content"> 
    <ul>
        <li> Same can be achieved using PYTHONWARNINGS environment variable </li>
    </ul> 
</div>


<br/>


<div class="result"><p class="result-header"><b>Terminal Execution</b></p>
<pre class="result-content">
(venv) [asha@Tutorials progs]$ <div id="tut-highlight">export PYTHONWARNINGS="error"</div>
(venv) [asha@Tutorials progs]$ python WarningError.py
Traceback (most recent call last):
  File "WarningError.py", line 3, in &lt;module>
    warn('Warning!')
UserWarning: Warning!

</pre></div>


<br/>


<div class="result"><p class="result-header"><b>Terminal Execution</b></p>
<pre class="result-content">
(venv) [asha@Tutorials progs]$ <div id="tut-highlight">export PYTHONWARNINGS="default"</div>
(venv) [asha@Tutorials progs]$ python WarningError.py
WarningError.py:3: UserWarning: Warning!
  warn('Warning!')
After Warning
</pre></div>



<br/>


<div class="result"><p class="result-header"><b>Terminal Execution</b></p>
<pre class="result-content">
(venv) [asha@Tutorials progs]$ <div id="tut-highlight">export PYTHONWARNINGS="ignore"</div>
(venv) [asha@Tutorials progs]$ python WarningError.py
After Warning
</pre></div>

<hr/>

<div id="tut-content"> 
    <ul>
        <li> PYTHONWARNINGS can also be set as following which will affect current process and it's sub process : </li>
    </ul> 
</div>


{% assign code_block = code_block | plus: 1 %}
{% assign code_block_id = "code-block-" | append: code_block %}
{% assign code_header_id = "code-header-" | append: code_block %}
<div id="{{ code_block_id }}" class="code-block">
<p id= "{{ code_header_id }}" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("{{ code_block_id }}", "{{ code_header_id }}")</script>
{% highlight python %}

import os
os.environ["PYTHONWARNINGS"] = 'ignore'


{% endhighlight %}
</div>


{% include links.html %}