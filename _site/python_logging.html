<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Logging functions.">
<meta name="keywords" content=",  ">
<meta name="theme-color" content="#36362C">
<link rel="icon" sizes="192x192" href="images/favicon.ico">
<title>Logging | Asha Tutorials</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css?family=Raleway:600&display=swap" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">  
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap" rel="stylesheet"> 
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="site" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        function copyHover(codeId, copyId){
            $('#'+codeId).mouseenter(function() {
                $('#'+copyId).show();
            }).mouseleave(function() {
                $('#'+copyId).hide();
            });

            $('#'+copyId).mouseenter(function() {
                $('#'+copyId).show();
            }).mouseleave(function() {
                $('#'+copyId).hide();
            });

            $('#'+copyId).click(function(){
                lines =document.getElementById(codeId).textContent.split('\n');
                result= lines.slice(3, lines.length-1).join("\n");
                var $temp = $("<textarea>");
                $("body").append($temp);
                $temp.val(result).select();
                console.log($temp.val(result))
                document.execCommand("copy");
                $temp.remove();
                $('#'+copyId).attr('data-original-title', 'Copied').tooltip('show');   
                setTimeout(() => {
                    $('#'+copyId).attr('data-original-title', 'Copy to ClipBoard').tooltip('show'); 
                }, 10000);
            });
        }
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            if ($(window).width() <= 972) {
                if (localStorage.getItem('last_visited') != null &&
                    localStorage.getItem('navbar') == "show"){
                    localStorage.setItem('navbar','hide')
                    $("#tg-sb-sidebar").toggle();
                    $("#tg-sb-content").toggleClass('col-md-9');
                    $("#tg-sb-content").toggleClass('col-md-12');
                    $("#tg-sb-icon-mobile").toggleClass('fa-toggle-on');
                    $("#tg-sb-icon-mobile").toggleClass('fa-toggle-off');
                }
                else if(localStorage.getItem('navbar') == "hide"){
                    $("#tg-sb-sidebar").toggle();
                    $("#tg-sb-content").toggleClass('col-md-9');
                    $("#tg-sb-content").toggleClass('col-md-12');
                    $("#tg-sb-icon-mobile").toggleClass('fa-toggle-on');
                    $("#tg-sb-icon-mobile").toggleClass('fa-toggle-off');
                }
            }
            else{
                if (localStorage.getItem('navbar') == "hide" ){
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
                }
                else if(localStorage.navbar == "show" ){
                }
                else{
                    localStorage.setItem('navbar','show')
                }

            }        
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
                if(localStorage.getItem('navbar') == "show"){
                    localStorage.setItem('navbar','hide')
                }
                else{
                    localStorage.setItem('navbar','show')
                }
            });
            $("#tg-sb-link-mobile").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon-mobile").toggleClass('fa-toggle-on');
                $("#tg-sb-icon-mobile").toggleClass('fa-toggle-off');
                if(localStorage.getItem('navbar') == "hide"){
                    localStorage.setItem('navbar','show');
                }
                else{
                    localStorage.setItem('navbar','hide')
                }
                if (localStorage.getItem('last_visited') == null ){
                    localStorage.setItem('last_visited', new Date())
                }

            });
        });
    </script>
   

    <script>
         $(document).ready(function() {
            $('#searchModel').on('shown.bs.modal', function () {
                $('#search-input').focus();
            });  

            function search_shortcut(e) {
                if ( e.keyCode == 113) {
                    document.getElementById('search-tool').click()
                }
            }
            // register the handler 
            document.addEventListener('keyup', search_shortcut, false);  
    });
    </script>

    <script>
        $(document).ready(function(){
            $(window).scroll(function(){
                if($(this).scrollTop() > 50){
                    $("#back-to-top").fadeIn(); 
                }else{
                    $("#back-to-top").fadeOut();
                }
            });
            $("#back-to-top").click(function(){
                document.activeElement.blur();
                $('body,html').animate({scrollTop: 0}, 400);
                return false;    
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><span class="projectTitle"> <img class="projectTitle " src="/images/company_logo_White.png"/></a>


            <!--Mobile Search-->
            <ul class="navbar-toggle mobile-toggle">
                <!-- Search popup -->
                    <a id="search-tool-mobile" href="#"  data-toggle="modal" data-target="#searchModel">
                        <i class="fa fa-search"></i>
                    </a>
            </ul>    
            <!--End Mobile Search-->

            <ul id="mobile-nav" class="navbar-toggle mobile-toggle">
                <a id="tg-sb-link-mobile" href="#"><i id="tg-sb-icon-mobile" class="fa fa-toggle-on"></i> Nav</a>
            </ul>

            
            
        </div>

        

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li class="navbar-hide-nav"><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->







                
                
                
                <li class="active"><a href="python_getting_started.html">Python</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                
                <!-- 
			        <li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject=Asha Tutorials feedback&body=I have some feedback about the Logging page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		         -->
                <!--comment out this block if you want to hide search-->
                <li>
                            <!-- Search popup -->
                    <a class="navbar-hide-nav" id="search-tool" href="#"  data-toggle="modal" data-target="#searchModel" data-toggle="tooltip" data-placement="bottom" title="Press F2 to Search">
                        <i class="fa fa-search"></i>
                    </a>
                    
         
                
            </li>
            </ul>


            
        </div>
        <!-- collapse Navbar -->
        
                   <!-- Modal -->
                   <div class="modal fade nav" id="searchModel" tabindex="-1" role="dialog" aria-labelledby="searchModelLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content results-model">
                        <div class="modal-header">
                            <div id="search-demo-container" class="search">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <i style="color: white;" class="fa fa-times" aria-hidden="true"></i>
                                </button>
                                <input type="text" class="form-control" id="search-input" placeholder="search..." autofocus>
                            </div>

                        </div>
                        <div class="result-model">
                            <ul class="search-result results-model" id="results-container"></ul>
                        </div>
                    </div>
                    </div>
                </div>
                <!-- End Search popup -->

            </li>    


                <script src="js/jekyll-search.js" type="text/javascript"></script>
                <script type="text/javascript" >
                        SimpleJekyllSearch.init({
                            searchInput: document.getElementById('search-input'),
                            resultsContainer: document.getElementById('results-container'),
                            dataSource: 'search.json',
                            searchResultTemplate: '<li style="margin: 0px 0px;"><a href="{url}" title="Logging       " folder="python">{title} <sub>in {folder}</sub></a></li>',
                noResultsText: '<li style="margin: 0px 0px;"><a href="#">No results found.</a></li>',
                        limit: 10,
                        fuzzy: true,
                })
                </script>
                <!--end search-->
                

        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Python </li>
  
  
  
  <li>
      <a title="Getting Started" href="#">Getting Started</a>
      <ul class="nav1">
          
          
          
          <li><a title="Getting started" href="python_getting_started.html">Getting started</a></li>
          
          
          
          
          
          
          <li><a title="Hello World!" href="python_hello_world.html">Hello World!</a></li>
          
          
          
          
          
          
          <li><a title="Variables" href="python_variables.html">Variables</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Data Types" href="#">Data Types</a>
      <ul class="nav1">
          
          
          
          <li><a title="Decimal and Fraction" href="python_decimal_fraction.html">Decimal and Fraction</a></li>
          
          
          
          
          
          
          <li><a title="String" href="python_string.html">String</a></li>
          
          
          
          
          
          
          <li><a title="Bytes and ByteArray" href="python_bytes_bytearray.html">Bytes and ByteArray</a></li>
          
          
          
          
          
          
          <li><a title="DateTime" href="python_date_time_datetime.html">DateTime</a></li>
          
          
          
          
          
          
          <li><a title="Calendar" href="python_calendar.html">Calendar</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="ControlFlow and Looping" href="#">ControlFlow and Looping</a>
      <ul class="nav1">
          
          
          
          <li><a title="Control Flow" href="python_control_flow.html">Control Flow</a></li>
          
          
          
          
          
          
          <li><a title="While Loop" href="python_while_loop.html">While Loop</a></li>
          
          
          
          
          
          
          <li><a title="For Loop" href="python_for_loop.html">For Loop</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Functions" href="#">Functions</a>
      <ul class="nav1">
          
          
          
          <li><a title="Functions" href="python_functions.html">Functions</a></li>
          
          
          
          
          
          
          <li><a title="Recursion" href="python_recursion.html">Recursion</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Builtin Data Structures" href="#">Builtin Data Structures</a>
      <ul class="nav1">
          
          
          
          <li><a title="List" href="python_list.html">List</a></li>
          
          
          
          
          
          
          <li><a title="Tuple and NamedTuple" href="python_tuple_namedtuple.html">Tuple and NamedTuple</a></li>
          
          
          
          
          
          
          <li><a title="Set and FrozenSet" href="python_set_frozenset.html">Set and FrozenSet</a></li>
          
          
          
          
          
          
          <li><a title="Dictionary" href="python_dictionary.html">Dictionary</a></li>
          
          
          
          
          
          
          <li><a title="Counter" href="python_counter.html">Counter</a></li>
          
          
          
          
          
          
          <li><a title="ChainMap" href="python_chainmap.html">ChainMap</a></li>
          
          
          
          
          
          
          <li><a title="Deque" href="python_deque.html">Deque</a></li>
          
          
          
          
          
          
          <li><a title="heapq" href="python_heapq.html">heapq</a></li>
          
          
          
          
          
          
          <li><a title="Enum" href="python_enum.html">Enum</a></li>
          
          
          
          
          
          
          <li><a title="Array" href="python_array.html">Array</a></li>
          
          
          
          
          
          
          <li><a title="Struct" href="python_struct.html">Struct</a></li>
          
          
          
          
          
          
          <li><a title="MemoryView" href="python_memoryview.html">MemoryView</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Exception Handling" href="#">Exception Handling</a>
      <ul class="nav1">
          
          
          
          <li><a title="Exception Handling" href="python_exception_handling.html">Exception Handling</a></li>
          
          
          
          
          
          
          <li><a title="Traceback" href="python_traceback.html">Traceback</a></li>
          
          
          
          
          
          
          <li><a title="Warnings" href="python_warnings.html">Warnings</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Module and Package" href="#">Module and Package</a>
      <ul class="nav1">
          
          
          
          <li><a title="Module, Package and Import" href="python_module_package_import.html">Module, Package and Import</a></li>
          
          
          
          
          
          
          <li class="active"><a title="Logging" href="python_logging.html">Logging</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Logging</h1>
</div>



<div class="post-content">

   <!-- 
    <div class="summary">Logging functions.</div>
    -->

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    <!-- 

    <a target="_blank" rel="noopener" href="https://github.com/ashatutorials/pages/python/06_Module_and_Package/02_logging.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

     -->

   <h2 id="logging">Logging</h2>

<p> Module provides functions and classes for logging an event.  </p>

<h3 id="levels-of-logging">Levels of logging</h3>

<p> Levels of logging in order of increasing level </p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Level</th>
      <th style="text-align: left">Usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">DEBUG</td>
      <td style="text-align: left">Very detailed information how your function or program works.When resolving issue other programmer should be able to understand internal working. e.g. value of each variable in each iteration</td>
    </tr>
    <tr>
      <td style="text-align: left">INFO</td>
      <td style="text-align: left">Confirmation log which indicates program is behaving as expected. e.g. method started with params, ended successfully with params</td>
    </tr>
    <tr>
      <td style="text-align: left">WARNING</td>
      <td style="text-align: left">Indication of unexpected event occurred such as high work load which can cause problems.But program is working as expected. Or Invalid login attempts made to the application.</td>
    </tr>
    <tr>
      <td style="text-align: left">ERROR</td>
      <td style="text-align: left">Due to certain problem some functionality is not performing as expected. e.g. standard errors</td>
    </tr>
    <tr>
      <td style="text-align: left">CRITICAL</td>
      <td style="text-align: left">Due to serious problem program is not able to run.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="logging-method-for-each-logging-level">Logging method for each logging level</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">level</th>
      <th style="text-align: left">method</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">DEBUG</td>
      <td style="text-align: left">debug(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">INFO</td>
      <td style="text-align: left">info(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">WARNING</td>
      <td style="text-align: left">warning(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">ERROR</td>
      <td style="text-align: left">error(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">CRITICAL</td>
      <td style="text-align: left">critical(msg, *args, **kwargs)</td>
    </tr>
  </tbody>
</table>

<div class="bs-callout bs-callout-primary"><strong>Note</strong> : Default logging level is set to warning which means only message with warning or higher level (below level of WARNING in above table) messages will appear. </div>

<div id="tut-content"> 
    <ul>
        <li> <strong> Example </strong> </li>
    </ul> 
</div>

<div id="code-block-1" class="code-block">
<p id="code-header-1" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-1", "code-header-1")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'High workloads detected, response might be slow'</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'This will not be printed on console as the logging level is warning'</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">'Error occurred!!!'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">WARNING:root:High workloads detected, response might be slow
ERROR:root:Error occurred!!!</pre></div>

<hr />

<p> Arguments : </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> msg : </strong> String message to be logged. </li>
        <li> <strong> args : </strong> If given message string is formatted strings args contains positional values to be replaced. </li>
        <li> <strong> kwargs : </strong> Following are the four arguments which can be passed as keyword arguments  </li>
        <div id="tut-ol-padding">
        <div id="tut-content"> 
             <ol>    
                <li> <strong> exc_info : </strong> By default it takes exception information from sys.exc_info(), it can also be given custom exception in the same format returned by sys.exc_info() which gets logged. </li>
                <li> <strong> stack_info : </strong> By Default set to False. If given as True adds stack information  to logging message. It is not same as stack info from sys.exc_info(), it can be specified independently even when no exception is raised it print stack info in same format of Traceback.</li>
                <li> <strong> stacklevel : </strong> By default set to 1, if given value &gt; 1 skips number of frames when computing line number.</li>
                <li> <strong> extra : </strong> Takes dictionary as argument. Given key-value is used for formatting log record.</li>
            </ol>
        </div> 
        </div>
    </ul> 
</div>

<div id="tut-content"> 
    <ul>
        <li> <strong> Example with args</strong> </li>
    </ul> 
</div>

<div id="code-block-2" class="code-block">
<p id="code-header-2" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-2", "code-header-2")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">usage</span> <span class="o">=</span> <span class="mi">91</span>
<span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'CPU usage is </span><span class="si">%</span><span class="s">d'</span><span class="p">,</span> <span class="n">usage</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">WARNING:root:CPU usage is 91</pre></div>

<hr />

<h3 id="setting-log-level">Setting log level</h3>

<h4 id="commandline">CommandLine</h4>

<p> While running python program from command line following argument sets the log level. </p>

<p id="tut-cons"> <strong> Syntax : </strong> --log=LEVEL </p>

<div id="code-block-3" class="code-block">
<p id="code-header-3" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-3", "code-header-3")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">--</span><span class="n">log</span><span class="o">=</span><span class="n">INFO</span></code></pre></figure>

</div>

<hr />

<h4 id="basicconfigkwargs">basicConfig(**kwargs)</h4>

<p> Sets basic configuration for logging. It must be configured before logging function such as logging.debug, logging.info etc. </p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">param</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">filename</td>
      <td style="text-align: left">name and path of the file name where logs to be stored</td>
    </tr>
    <tr>
      <td style="text-align: left">filemode</td>
      <td style="text-align: left">mode in which file should be open default is ‘a’</td>
    </tr>
    <tr>
      <td style="text-align: left">format</td>
      <td style="text-align: left">format the log using formatting options.</td>
    </tr>
    <tr>
      <td style="text-align: left">datefmt</td>
      <td style="text-align: left">date format same as datetime strftime() e.g. ‘%m/%d/%Y %I:%M:%S %p’</td>
    </tr>
    <tr>
      <td style="text-align: left">level</td>
      <td style="text-align: left">level of logs such as DEBUG, INFO etc</td>
    </tr>
    <tr>
      <td style="text-align: left">style</td>
      <td style="text-align: left">specify format in one of ‘%’, ‘{‘, or ‘$’. Default is ‘%’</td>
    </tr>
    <tr>
      <td style="text-align: left">stream</td>
      <td style="text-align: left">stream handler to for log destination. filename must be blank if this is specified.</td>
    </tr>
    <tr>
      <td style="text-align: left">handlers</td>
      <td style="text-align: left">Iterable of Handlers to be added to root logger.</td>
    </tr>
    <tr>
      <td style="text-align: left">force</td>
      <td style="text-align: left">If True removes all existing handlers attached to root logger before carrying  out the configuration as specified by other arguments.</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Formatting options for " format " argument</strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Attrib name</th>
      <th style="text-align: left">format</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">asctime</td>
      <td style="text-align: left">%(asctime)s</td>
      <td>current local time</td>
    </tr>
    <tr>
      <td style="text-align: left">msecs</td>
      <td style="text-align: left">%(msecs)d</td>
      <td>Milliseconds of the time when log was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">relativeCreated</td>
      <td style="text-align: left">%(relativeCreated)d</td>
      <td>Milliseconds of time when LogRecord is created relative to the time when logging module is loaded.</td>
    </tr>
    <tr>
      <td style="text-align: left">levelname</td>
      <td style="text-align: left">%(levelname)s</td>
      <td>logging level for the message (‘DEBUG’, ‘INFO’, ‘WARNING’,’ERROR’, ‘CRITICAL’).</td>
    </tr>
    <tr>
      <td style="text-align: left">levelno</td>
      <td style="text-align: left">%(levelno)s</td>
      <td>Numeric logging level for the message (DEBUG, INFO, WARNING ,ERROR, CRITICAL).</td>
    </tr>
    <tr>
      <td style="text-align: left">name</td>
      <td style="text-align: left">%(name)s</td>
      <td>name of the logger used to call.</td>
    </tr>
    <tr>
      <td style="text-align: left">message</td>
      <td style="text-align: left">%(message)s</td>
      <td>string passed to logging function.</td>
    </tr>
    <tr>
      <td style="text-align: left">pathname</td>
      <td style="text-align: left">%(pathname)s</td>
      <td>full path of the source file where logging was run.</td>
    </tr>
    <tr>
      <td style="text-align: left">module</td>
      <td style="text-align: left">%(module)s</td>
      <td>module name of the source file where logging was run.</td>
    </tr>
    <tr>
      <td style="text-align: left">filename</td>
      <td style="text-align: left">%(filename)s</td>
      <td>source file name where logging was run.</td>
    </tr>
    <tr>
      <td style="text-align: left">funcName</td>
      <td style="text-align: left">%(funcName)s</td>
      <td>name of the function where logging was run.</td>
    </tr>
    <tr>
      <td style="text-align: left">lineno</td>
      <td style="text-align: left">%(lineno)d</td>
      <td>line no in source code where logging call was run.</td>
    </tr>
    <tr>
      <td style="text-align: left">process</td>
      <td style="text-align: left">%(process)d</td>
      <td>Process ID (if available).</td>
    </tr>
    <tr>
      <td style="text-align: left">processName</td>
      <td style="text-align: left">%(processName)s</td>
      <td>Process name (if available).</td>
    </tr>
    <tr>
      <td style="text-align: left">thread</td>
      <td style="text-align: left">%(thread)d</td>
      <td>Thread ID (if available).</td>
    </tr>
    <tr>
      <td style="text-align: left">threadName</td>
      <td style="text-align: left">%(threadName)s</td>
      <td>Thread name (if available).</td>
    </tr>
  </tbody>
</table>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Logging level constants and their values </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">level</th>
      <th style="text-align: left">value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">logging.NOTSET</td>
      <td style="text-align: left">0</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.DEBUG</td>
      <td style="text-align: left">10</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.INFO</td>
      <td style="text-align: left">20</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.WARNING</td>
      <td style="text-align: left">30</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.ERROR</td>
      <td style="text-align: left">40</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.CRITICAL</td>
      <td style="text-align: left">50</td>
    </tr>
  </tbody>
</table>

<div id="code-block-4" class="code-block">
<p id="code-header-4" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-4", "code-header-4")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="k">print</span><span class="p">(</span><span class="s">"logging.NOTSET   :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"logging.DEBUG    :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"logging.INFO     :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"logging.WARNING  :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"logging.ERROR    :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"logging.CRITICAL :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
logging.NOTSET   : 0
logging.DEBUG    : 10
logging.INFO     : 20
logging.WARNING  : 30
logging.ERROR    : 40
logging.CRITICAL : 50
</pre></div>

<hr />

<h4 id="basicconfig-examples">basicConfig() examples</h4>

<div id="tut-content"> 
    <ul>
        <li> <strong> If ' filename ' is not given in basic config it will be redirected to 'sys.stderr' </strong> </li>
    </ul> 
</div>

<div id="code-block-5" class="code-block">
<p id="code-header-5" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-5", "code-header-5")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Info logged successfully'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">INFO:root:Info logged successfully</pre></div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Logging to a file </strong> </li>
    </ul> 
</div>

<div id="code-block-6" class="code-block">
<p id="code-header-6" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-6", "code-header-6")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'myapp01.log'</span><span class="p">,</span> <span class="n">filemode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">,</span>   <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'logging started  .......'</span><span class="p">)</span>


<span class="c1"># logging variable value
</span><span class="n">a</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s">'a String value'</span>

<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">f</span><span class="s">'variable a -&gt; {a} and msg -&gt; {msg}'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="bs-callout bs-callout-primary"><strong>Note</strong> : File with name myapp01.log will be created in same directory of python file which contains above code because we have not given path in  ‘filename’ argument. </div>

<div class="result"><p class="result-header"><b>myapp01.log</b></p>
<pre class="result-content">
INFO:root:logging started  .......
INFO:root:variable a -&gt; 12 and msg -&gt; a String value
</pre></div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Customizing the log format </strong> </li>
    </ul> 
</div>

<div id="code-block-7" class="code-block">
<p id="code-header-7" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-7", "code-header-7")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'myapp02.log'</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(module)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">,</span>
                    <span class="n">datefmt</span><span class="o">=</span><span class="s">'</span><span class="si">%</span><span class="s">m/</span><span class="si">%</span><span class="s">d/</span><span class="si">%</span><span class="s">Y </span><span class="si">%</span><span class="s">I:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S </span><span class="si">%</span><span class="s">p'</span><span class="p">,</span> <span class="n">filemode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">,</span>   <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'logging started  .......'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>myapp02.log</b></p>
<pre class="result-content">
05/17/2020 06:55:02 PM : INFO : LoggingToFile02 : logging started  .......
</pre></div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Logging with threads </strong> </li>
    </ul> 
</div>

<div id="code-block-8" class="code-block">
<p id="code-header-8" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-8", "code-header-8")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">secrets</span>


<span class="k">def</span> <span class="nf">token_gen</span><span class="p">(</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">ntoken</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ntoken</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">))</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="n">nbytes</span><span class="p">)</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">f</span><span class="s">'{nbytes} Bytes Token generated [{token}]'</span><span class="p">)</span>


<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'myapp03.log'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s </span><span class="si">%(threadName)</span><span class="s">s </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">)</span>

<span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">token_gen</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>


<span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s">'Exiting main program'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>myapp03.log</b></p>
<pre class="result-content">
2020-05-17 18:58:36,530 Thread-4 16 Bytes Token generated [43fc9bb3b054b87fe7ba195bbd489a31]
2020-05-17 18:58:36,882 Thread-2 16 Bytes Token generated [e0023371ff62e20ed5112fea3786ef03]
2020-05-17 18:58:37,069 Thread-3 16 Bytes Token generated [11a7eafea9a412a86209b6abbd40ff21]
2020-05-17 18:58:37,411 Thread-1 16 Bytes Token generated [380b39dfb7cc8597c15bbd7a7ad44203]
2020-05-17 18:58:38,167 Thread-3 16 Bytes Token generated [1a3e1f38fc01db839ddc9379dc080fb3]
2020-05-17 18:58:38,288 Thread-4 16 Bytes Token generated [f5a5e605b91ca78a2389462be9a2a7a0]
2020-05-17 18:58:38,473 Thread-2 16 Bytes Token generated [1e5b7620e8136a79ecadbc577c123ade]
2020-05-17 18:58:39,247 Thread-1 16 Bytes Token generated [de305a4746c3085ea6b0cf6f10c74beb]
2020-05-17 18:58:39,418 Thread-3 16 Bytes Token generated [71dde3029fbbf09bf13033751b196e55]
2020-05-17 18:58:39,628 Thread-2 16 Bytes Token generated [2510407512ab2290da61cfec0075cbc6]
2020-05-17 18:58:40,027 Thread-4 16 Bytes Token generated [e2a3ba62c46ef848d8b2373ad48a5acc]
2020-05-17 18:58:40,577 Thread-1 16 Bytes Token generated [85d962ffa3b0d6ba6322f65e46333934]
</pre></div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Logging with 'extra' parameter </strong> </li>
    </ul> 
</div>

<p> <strong> extra : </strong> parameter takes dictionary as value which can be used to set record factory's custom attribute. It becomes handy to log multi-threaded programs. </p>

<div id="code-block-9" class="code-block">
<p id="code-header-9" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-9", "code-header-9")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'myapp02.log'</span><span class="p">,</span>
                    <span class="nb">format</span><span class="o">=</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(levelno)</span><span class="s">s : </span><span class="si">%(name)</span><span class="s">s : </span><span class="si">%(machineID)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s '</span><span class="p">,</span>
                    <span class="n">datefmt</span><span class="o">=</span><span class="s">'</span><span class="si">%</span><span class="s">m/</span><span class="si">%</span><span class="s">d/</span><span class="si">%</span><span class="s">Y </span><span class="si">%</span><span class="s">I:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S </span><span class="si">%</span><span class="s">p'</span><span class="p">,</span> <span class="n">filemode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">,</span>   <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s">'machineID'</span><span class="p">:</span> <span class="s">'AF145B56D'</span><span class="p">,</span> <span class="s">'requestID'</span><span class="p">:</span> <span class="s">'PQA125CB12VB3123'</span><span class="p">}</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Initiating session'</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">dictionary</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>myapp02.log</b></p>
<pre class="result-content">
05/18/2020 09:00:26 PM : INFO : 20 : root : AF145B56D : Initiating session 
</pre></div>

<div class="bs-callout bs-callout-primary"><strong>Note</strong> : While Logging with custom keys in formatter, dictionary must always contains key used in formatter. Otherwise formatter will raise error and message will not be logged.</div>

<hr />

<h3 id="functions-and-classes">Functions and Classes</h3>

<h4 id="getloggernamenone">getLogger(name=None)</h4>

<p> Returns the logger with given name. Calling function with same even in different module returns the same logger object, because it's a singleton factory function. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> name : </strong> If not given returns a logger which is at the root of hierarchy. If given it is dot separated name like 'packageA.packageB.moduleA'. </li>
    </ul> 
</div>

<hr />

<h4 id="class-logrecord">class LogRecord</h4>

<p> Return an object of LogRecord which contains information about the event being logged. </p>

<p id="tut-cons"> LogRecord(name, level, pathname, lineno, msg, args, exc_info, func=None, sinfo=None) </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> name : </strong> Name of the logger used to log message. </li>
        <li> <strong> level : </strong> Numeric level of logging event. </li>
        <li> <strong> pathname : </strong> Full path where logging call was originated. </li>
        <li> <strong> lineno  : </strong> Line number in the source code where logging call was made. </li>
        <li> <strong> msg  :  </strong> string passed to the logger which is a message to be logged. </li>
        <li> <strong> args : </strong> variable data which replaces message argument to supply event information. </li>
        <li> <strong> exc_info : </strong> Exception Tuple with current exception information, None if no exception information available. </li>
        <li> <strong> sinfo : </strong> A text string representing stack information from the base of stack in current thread, up to logical call. </li>
    </ul> 
</div>

<hr />

<h4 id="getmessage">getMessage()</h4>

<p> Return the message for this LogRecord instance after merging any user supplied arguments with message.</p>

<hr />

<h4 id="getlogrecordfactory">getLogRecordFactory()</h4>

<p> Returns the callable which is used to create a LogRecord. </p>

<hr />

<h4 id="setlogrecordfactoryfactory">setLogRecordFactory(factory)</h4>

<p> Sets the callable which is used to create LogRecord. </p>

<p> <strong> factory is a callable to be used to instantiate a log record with following signature : </strong>  </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> name : </strong> Name of logger </li>
        <li> <strong> level : </strong> logging level in numeric. </li>
        <li> <strong> fn : </strong> full pathname of file where the logging call was made. </li>
        <li> <strong> lno : </strong> line number in the file where logging call was made. </li>
        <li> <strong> msg : </strong> logging message </li>
        <li> <strong> args: </strong> arguments which will be applied to message</li>
        <li> <strong> exc_info : </strong> An exception Tuple or none</li>
        <li> <strong> func : </strong> The name of the function or method which invoked the logging call. </li>
        <li> <strong> sinfo : </strong> stack trace showing call hierarchy. </li>
    </ul> 
</div>

<div id="code-block-10" class="code-block">
<p id="code-header-10" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-10", "code-header-10")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">old_factory</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogRecordFactory</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">record_factory</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">record</span> <span class="o">=</span> <span class="n">old_factory</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">record</span><span class="o">.</span><span class="n">pod</span> <span class="o">=</span> <span class="s">'POD_ANXZ1'</span>
    <span class="k">return</span> <span class="n">record</span>


<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s :  </span><span class="si">%(pod)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(module)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">,</span>
                    <span class="n">datefmt</span><span class="o">=</span><span class="s">'</span><span class="si">%</span><span class="s">m/</span><span class="si">%</span><span class="s">d/</span><span class="si">%</span><span class="s">Y </span><span class="si">%</span><span class="s">I:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S </span><span class="si">%</span><span class="s">p'</span><span class="p">,</span> <span class="n">filemode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">,</span>   <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logging</span><span class="o">.</span><span class="n">setLogRecordFactory</span><span class="p">(</span><span class="n">record_factory</span><span class="p">)</span>


<span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'High CPU usage ....'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">05/17/2020 07:39:58 PM :  POD_ANXZ1 : WARNING : CustomLogRecordFactory : High CPU usage ....</pre></div>

<hr />

<div class="bs-callout bs-callout-primary"><strong>Note</strong> : Multiple  LogRecordFactory can be chained as per application requirements as long as attribute names does not conflicts.</div>

<h4 id="disablelevelcritical">disable(level=CRITICAL)</h4>

<p> Overriding log level for all loggers in the application. </p>

<div id="tut-content"> 
    <ul>
        <li> It is used for temporally changing the log level(disabling logs). </li>
        <li> Default level value is CRITICAL.</li>
        <li> It disables all log message of given level and all the levels which are having numeric value less than numeric value of level.</li>
        <li> For example logging.disable(level=INFO) will disable all logs at level of INFO and also at the level of DEBUG because, DEBUG have numeric value &lt; INFO numeric value.</li>
    </ul> 
</div>

<hr />

<h4 id="getlevelnamelevel">getLevelName(level)</h4>

<p> Returns numeric value for given log level and log level for given numeric log level. </p>

<div id="code-block-11" class="code-block">
<p id="code-header-11" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-11", "code-header-11")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="k">print</span><span class="p">(</span><span class="s">"getLevelName('INFO') :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLevelName</span><span class="p">(</span><span class="s">'INFO'</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"getLevelName(40) :"</span><span class="p">,</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLevelName</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
getLevelName('INFO') : 20
getLevelName(40) : ERROR
</pre></div>

<hr />

<h4 id="shutdown">shutdown()</h4>

<p> Informs logging system to perform orderly shutdown by flushing and closing all handlers. It is called on application exit. </p>

<p> When logging module is imported this function is registered as the exit handler so no explicit call to this function is required. </p>

<hr />

<h4 id="getloggerclass">getLoggerClass()</h4>

<p> Returns standard logger class or the last logger class passed using setLoggerClass(). It is called within new class definition to override default behaviour. </p>

<div id="code-block-12" class="code-block">
<p id="code-header-12" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-12", "code-header-12")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">MyLogger</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">getLoggerClass</span><span class="p">()):</span>
    <span class="k">pass</span></code></pre></figure>

</div>

<p><br /></p>

<h4 id="setloggerclassklass">setLoggerClass(klass)</h4>

<p> Sets the class for logging system to instantiate when creating logger.</p>

<div id="tut-content"> 
    <ul>
        <li> User defined Logger class must define __init__() method with a name argument and __init__() calls Logger.__init__(). </li>
        <li> This function is typically called before any loggers are instantiated by application. </li>
        <li> In Modules of application use logging.getLogger() to fetch the instance of logger.</li>
    </ul> 
</div>

<hr />

<h4 id="makelogrecordattrdict">makeLogRecord(attrdict)</h4>

<p> Returns new LogRecord constructed from attrdict. </p>

<p> It is used for constructing LogRecord from the pickled LogRecord sent over the socket. </p>

<hr />

<h2 id="logger-object">Logger Object</h2>

<h3 id="logging-hierarchy">Logging hierarchy</h3>

<p> Same as Modules and Packages are arranged in hierarchy, logging can also be arranged in hierarchy. </p>

<div id="tut-content"> 
    <ul>
        <li> Logging is performed using Logger object.  </li>
        <li> Each logger object has it's own name which identifies it in hierarchy. </li>
        <li> Logger object must be instantiated using getLogger() singleton factory with name in hierarchy. </li>
        <li> Multiple calls of getLogger() with same name returns same object.</li>
        <li> The root of the hierarchy of loggers is called the root logger, logger also prints name as 'root' in the logged output. </li>
        <li> logging.getLogger(__name__) is used to create logging hierarchy same as Module and Package hierarchy.</li>
        <li> The root logger always has set log level to warning by default.</li>
    </ul> 
</div>

<hr />

<h3 id="logging-hierarchy-example">Logging hierarchy example</h3>

<div id="tut-content"> 
    <ul>
        <li> Project Structure [appLogging is marked as sources root]  </li>
    </ul> 
</div>

<div id="tut-img">
    <img src="/images/tutorials/python/loggerHierarchy.png" class="tut-img" alt="python logo" />
</div>

<p><br /></p>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleA2.py </p>

<div id="code-block-13" class="code-block">
<p id="code-header-13" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-13", "code-header-13")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">hello_module</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Message from packageA1 -&gt; ModuleA2'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleB2.py </p>

<div id="code-block-14" class="code-block">
<p id="code-header-14" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-14", "code-header-14")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">hello_module</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Message from packageB1 -&gt; ModuleB2'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> LoggerHierarchy.py </p>

<div id="code-block-15" class="code-block">
<p id="code-header-15" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-15", "code-header-15")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'MyApplicationHierarchy.log'</span><span class="p">,</span>
                    <span class="nb">format</span><span class="o">=</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(levelno)</span><span class="s">s : </span><span class="si">%(name)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">,</span>
                    <span class="n">datefmt</span><span class="o">=</span><span class="s">'</span><span class="si">%</span><span class="s">m/</span><span class="si">%</span><span class="s">d/</span><span class="si">%</span><span class="s">Y </span><span class="si">%</span><span class="s">I:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S </span><span class="si">%</span><span class="s">p'</span><span class="p">,</span> <span class="n">filemode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">,</span>   <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>

<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Hierarchy 1 is created'</span><span class="p">)</span> 

<span class="kn">from</span> <span class="nn">packageA1</span> <span class="kn">import</span> <span class="n">ModuleA2</span>
<span class="kn">from</span> <span class="nn">packageB1</span> <span class="kn">import</span> <span class="n">ModuleB2</span>

<span class="n">ModuleA2</span><span class="o">.</span><span class="n">hello_module</span><span class="p">()</span>
<span class="n">ModuleB2</span><span class="o">.</span><span class="n">hello_module</span><span class="p">()</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>MyApplicationHierarchy.log</b></p>
<pre class="result-content">
05/18/2020 06:22:02 PM : INFO : 20 : root : Hierarchy 1 is created
05/18/2020 06:22:02 PM : INFO : 20 : packageA1.ModuleA2 : Message from packageA1 -&gt; ModuleA2
05/18/2020 06:22:02 PM : INFO : 20 : packageB1.ModuleB2 : Message from packageB1 -&gt; ModuleB2
</pre></div>

<hr />

<h3 id="attributes">Attributes</h3>

<h4 id="level">level</h4>

<p> Returns the level of logger object. By default level of root logger is set to WARNING (30) and for non root logger NOTSET (0).  </p>

<div id="code-block-16" class="code-block">
<p id="code-header-16" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-16", "code-header-16")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">rootLogger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">nonRootLogger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'Root Logger level :'</span><span class="p">,</span> <span class="n">rootLogger</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Non-Root Logger level :'</span><span class="p">,</span> <span class="n">nonRootLogger</span><span class="o">.</span><span class="n">level</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
Root Logger level : 30
Non-Root Logger level : 0
</pre></div>

<hr />

<h4 id="propagate">propagate</h4>

<p> By default set to True which passes message to ancestor logger's handler in logging hierarchy in addition to handler attached to current logger object.</p>

<div id="tut-content"> 
    <ul>
        <li> Normally Handlers are set at the higher level of hierarchy so that, all it's child logger messages goes through common Handler.  </li>
        <li> If a Handler is attached to the current logger and one or more parent logger also contains Handler, with by default propagate set to True will log same message multiple times depending on Handler configuration. </li>
        <li> If it is set to False, logging message is not passed to the handler of the ancestor logger. </li>
    </ul> 
</div>

<div id="code-block-17" class="code-block">
<p id="code-header-17" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-17", "code-header-17")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"propagate :"</span><span class="p">,</span> <span class="n">logger</span><span class="o">.</span><span class="n">propagate</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
propagate : True
</pre></div>

<hr />

<h3 id="functions">Functions</h3>

<h4 id="geteffectivelevel">getEffectiveLevel()</h4>

<p> Returns effective level of logger object. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> effective level : </strong> If level is set (By default for Non-root logger it is set to NOTSET)  on current logger object it's evaluated as  effective level.  </li>
        <li> If level is not explicitly set on a logger object it inherits form the parent's effective level. If parent does not have level set,  it's parent in hierarchy is examined until level which is set to logger is found. By default root logger has level set to WARNING. </li>
    </ul> 
</div>

<div id="code-block-18" class="code-block">
<p id="code-header-18" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-18", "code-header-18")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">rootLogger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">nonRootLogger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'Root Logger level :'</span><span class="p">,</span> <span class="n">rootLogger</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Root Logger Effective level :'</span><span class="p">,</span> <span class="n">rootLogger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Non-Root Logger level :'</span><span class="p">,</span> <span class="n">nonRootLogger</span><span class="o">.</span><span class="n">level</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Non-Root Logger Effective level :'</span><span class="p">,</span> <span class="n">nonRootLogger</span><span class="o">.</span><span class="n">getEffectiveLevel</span><span class="p">())</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
Root Logger level : 30
Root Logger Effective level : 30
Non-Root Logger level : 0
Non-Root Logger Effective level : 30
</pre></div>

<hr />

<h4 id="logging-methods">logging methods</h4>

<p> Following are the logging methods which has same meaning as explained in logging module. </p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">log level</th>
      <th style="text-align: left">method</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">DEBUG</td>
      <td style="text-align: left">debug(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">INFO</td>
      <td style="text-align: left">info(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">WARNING</td>
      <td style="text-align: left">warning(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">ERROR</td>
      <td style="text-align: left">error(msg, *args, **kwargs)</td>
    </tr>
    <tr>
      <td style="text-align: left">CRITICAL</td>
      <td style="text-align: left">critical(msg, *args, **kwargs)</td>
    </tr>
  </tbody>
</table>

<hr />

<h4 id="exceptionmsg-args-kwargs">exception(msg, *args, **kwargs)</h4>

<p> same as error(msg, *args, **kwargs) level but adds stack trace of error </p>

<div id="code-block-19" class="code-block">
<p id="code-header-19" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-19", "code-header-19")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'MyApplicationException.log'</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s">"Division by Zero is performed"</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>MyApplicationException.log</b></p>
<pre class="result-content">
ERROR:root:Division by Zero is performed
Traceback (most recent call last):
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LogggingException.py", line 6, in &lt;module&gt;
    1/0
ZeroDivisionError: division by zero
</pre></div>

<hr />

<hr />

<h4 id="loglevel-msg-args-kwargs">log(level, msg, *args, **kwargs)</h4>

<p> logs message with given log level. </p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">level</th>
      <th style="text-align: left">value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">logging.DEBUG</td>
      <td style="text-align: left">10</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.INFO</td>
      <td style="text-align: left">20</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.WARNING</td>
      <td style="text-align: left">30</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.ERROR</td>
      <td style="text-align: left">40</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.CRITICAL</td>
      <td style="text-align: left">50</td>
    </tr>
  </tbody>
</table>

<div id="code-block-20" class="code-block">
<p id="code-header-20" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-20", "code-header-20")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span> <span class="s">"Warning Message from log() method"</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">WARNING:root:Warning Message from log() method</pre></div>

<hr />

<h4 id="setlevellevel">setlevel(level)</h4>

<p> Sets the given logging 'level' for this logger. Messages with given logging level or higher logging level are processed. Messages with lower logging level than current logging level are ignored. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Logging level constants and their values </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">level</th>
      <th style="text-align: left">value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">logging.NOTSET</td>
      <td style="text-align: left">0</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.DEBUG</td>
      <td style="text-align: left">10</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.INFO</td>
      <td style="text-align: left">20</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.WARNING</td>
      <td style="text-align: left">30</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.ERROR</td>
      <td style="text-align: left">40</td>
    </tr>
    <tr>
      <td style="text-align: left">logging.CRITICAL</td>
      <td style="text-align: left">50</td>
    </tr>
  </tbody>
</table>

<div id="tut-content"> 
    <ul>
        <li> <strong> Example </strong> </li>
    </ul> 
</div>

<div id="code-block-21" class="code-block">
<p id="code-header-21" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-21", "code-header-21")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Message with same logger level as current level of logger.'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">'Message with higher logger level than current level of logger.'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Message with lower logger level than current level of logger.'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">
INFO:root:Message with same logger level as current level of logger.
ERROR:root:Message with higher logger level than current level of logger.
</pre></div>

<hr />

<h4 id="addhandlerhdlr">addHandler(hdlr)</h4>

<p> Adds handler object to to logger. </p>

<hr />

<h4 id="removehandlerhdlr">removeHandler(hdlr)</h4>

<p> Removes handler object from the logger. </p>
<hr />

<h4 id="addfilterfilter">addFilter(filter)</h4>

<p>  Adds filter object to the logger. </p>
<hr />

<h4 id="removefilterfilter">removeFilter(filter)</h4>

<p> Removes filter object from the logger </p>
<hr />

<h4 id="isenabledforlevel">isEnabledFor(level)</h4>

<p> Returns True if given level of message will be processed. It first checks if level set by logging.disable(level) and then use getEffectiveLevel() to determine given level of message will be processed or not. </p>

<hr />

<h4 id="getchildsuffix">getChild(suffix)</h4>

<p> Returns logger which is child of this logger with given suffix. </p>

<p> For example logging.getLogger('packageA').getChild('ModuleA1') is same as logging.getLogger('packageA.ModuleA1') </p>

<hr />

<h4 id="handlerecord">handle(record)</h4>

<p> Handles given record by passing it to all handlers of this logger and to all of its parent. It is used for processing records received from socket or locally created. </p>

<hr />

<h4 id="hashandlers">hasHandlers()</h4>

<p> Returns True if this logger or any logger in it's hierarchy has any handler configured to it . </p>

<hr />

<h4 id="findcallerstack_infofalse-stacklevel1">findCaller(stack_info=False, stacklevel=1)</h4>

<p> Find and return caller's information in Tuple(filename,  line number, function name, stack information). </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> stack_info : </strong>  By default set to False returns None as stack information. If given True returns stack information of caller. </li>
        <li> <strong> stacklevel :  </strong> Skips the given number of stack frames before determining values to be return. </li>
    </ul> 
</div>

<div id="tut-content"> 
    <ul>
        <li> Project Structure  </li>
    </ul> 
</div>

<div id="tut-img">
    <img src="/images/tutorials/python/moduleFindCaller.png" class="tut-img" alt="python logo" />
</div>

<p><br /></p>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleA4.py </p>

<div id="code-block-22" class="code-block">
<p id="code-header-22" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-22", "code-header-22")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">secrets</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">token_gen</span><span class="p">():</span>
    <span class="n">callerInfo</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">findCaller</span><span class="p">(</span><span class="n">stack_info</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">f</span><span class="s">'Caller info : {callerInfo}'</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">f</span><span class="s">'generated  16 Bytes Token  [{token}]'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> LoggerFindCaller.py </p>

<div id="code-block-23" class="code-block">
<p id="code-header-23" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-23", "code-header-23")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">packageA1</span> <span class="kn">import</span> <span class="n">ModuleA4</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">make_call</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Invoking make_call()'</span><span class="p">)</span>
    <span class="n">ModuleA4</span><span class="o">.</span><span class="n">token_gen</span><span class="p">()</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleFindCaller.py </p>

<div id="code-block-24" class="code-block">
<p id="code-header-24" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-24", "code-header-24")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">appLogging</span> <span class="kn">import</span> <span class="n">LoggerFindCaller</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'myapp03.log'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="n">rootLogger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'ModuleFindCaller'</span><span class="p">)</span>
<span class="n">rootLogger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Logger Started'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">find_caller_demo</span><span class="p">():</span>
    <span class="n">LoggerFindCaller</span><span class="o">.</span><span class="n">make_call</span><span class="p">()</span>


<span class="n">find_caller_demo</span><span class="p">()</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>myapp03.log</b></p>
<pre class="result-content">
DEBUG:ModuleFindCaller:Logger Started
DEBUG:appLogging.LoggerFindCaller:Invoking make_call()
DEBUG:packageA1.ModuleA4:Caller info : <div id="tut-highlight">('/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/ModuleFindCaller.py', 11, 'find_caller_demo', 'Stack (most recent call last):\n  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/ModuleFindCaller.py", line 14, in &lt;module&gt;\n    find_caller_demo()\n  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/ModuleFindCaller.py", line 11, in find_caller_demo\n    LoggerFindCaller.make_call()')</div>
DEBUG:packageA1.ModuleA4:generated  16 Bytes Token  [e12174c4829f53858f7c9b6ea599e496]
DEBUG:packageA1.ModuleA4:generated  16 Bytes Token  [e72b9dba78920f7418f1d94ce1b6f2d3]
DEBUG:packageA1.ModuleA4:generated  16 Bytes Token  [991c0773772a3b32cb4069f59a037bf8]
DEBUG:packageA1.ModuleA4:generated  16 Bytes Token  [57c4fff0fb94905c94c30797046757f0]
DEBUG:packageA1.ModuleA4:generated  16 Bytes Token  [58e2c5b4fed90998f6d374be47345d81]

</pre></div>

<hr />

<h2 id="handler-class">Handler Class</h2>

<p> Handles the log message and dispatches to target specified by handler. Logger object can be added zero or more handler object using addHandler() method.</p>

<h3 id="constructor">Constructor</h3>

<p id="tut-cons"> Handler(level=NOTSET) </p>

<p> Create and returns handler object by performing following : </p>

<div id="tut-content"> 
    <ol>    
        <li> Set given level to handler object. </li>
        <li> Set Empty list to the filter list of handler. </li>
        <li> Create a lock using createLock() for serialized access to I/O mechanism.  </li>
    </ol>
</div>

<div id="code-block-25" class="code-block">
<p id="code-header-25" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-25", "code-header-25")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">Handler</span><span class="p">,</span> <span class="n">DEBUG</span>
<span class="n">hobj</span> <span class="o">=</span> <span class="n">Handler</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hobj</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
&lt;Handler (DEBUG)&gt;
</pre></div>

<hr />

<h3 id="functions-1">Functions</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">function</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">createLock()</td>
      <td style="text-align: left">creates the thread lock which serializes the access to I/O functionality.</td>
    </tr>
    <tr>
      <td style="text-align: left">acquire()</td>
      <td style="text-align: left">Acquires the thread lock created with createLock().</td>
    </tr>
    <tr>
      <td style="text-align: left">release()</td>
      <td style="text-align: left">Releases the thread lock acquired with acquire().</td>
    </tr>
    <tr>
      <td style="text-align: left">setLevel(level)</td>
      <td style="text-align: left">Sets the threshold for this handler to level. When handler is created by default it sets level to NOTSET which logs all messages.</td>
    </tr>
    <tr>
      <td style="text-align: left">setFormatter(fmt)</td>
      <td style="text-align: left">Sets the formatter for this handler to fmt.</td>
    </tr>
    <tr>
      <td style="text-align: left">addFilter(filter)</td>
      <td style="text-align: left">Adds the specified filter filter to this handler.</td>
    </tr>
    <tr>
      <td style="text-align: left">removeFilter(filter)</td>
      <td style="text-align: left">Removes the specified filter filter from this handler.</td>
    </tr>
    <tr>
      <td style="text-align: left">filter(record)</td>
      <td style="text-align: left">Apply this handler’s filters to the record and return True if the record is to be processed.</td>
    </tr>
    <tr>
      <td style="text-align: left">flush()</td>
      <td style="text-align: left">Ensure all logging output has been flushed.</td>
    </tr>
    <tr>
      <td style="text-align: left">close()</td>
      <td style="text-align: left">removes handler from an internal list of handler and release the resources acquired by the handler. Handler is closed when shutdown() is called.</td>
    </tr>
    <tr>
      <td style="text-align: left">handle(record)</td>
      <td style="text-align: left">handles the record as per configuration of filters.</td>
    </tr>
    <tr>
      <td style="text-align: left">format(record)</td>
      <td style="text-align: left">formats the record, if formatter is set it is used otherwise default formatter is used.</td>
    </tr>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">actually logs the specified logging record. It is intended to be implemented by subclass and by default it raises NotImplementedError.</td>
    </tr>
    <tr>
      <td style="text-align: left">handleError(record)</td>
      <td style="text-align: left">called from handler when an exception is encounter during emit() call.It can be ignored silently as below : It is advisable to set False in Production.</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong>Ignoring exception encounter during emit()  : </strong> It ignored because developers are mostly interested in errors generated by application not the logging module it self. </li>
    </ul> 
</div>

<div id="code-block-26" class="code-block">
<p id="code-header-26" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-26", "code-header-26")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">raiseExceptions</span> <span class="o">=</span> <span class="bp">False</span></code></pre></figure>

</div>

<hr />

<h3 id="subclasses-of-handler-class">Subclasses of Handler class</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Subclass</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">StreamHandler</td>
      <td style="text-align: left">Sends messages to stream(File-like object)</td>
    </tr>
    <tr>
      <td style="text-align: left">FileHandler</td>
      <td style="text-align: left">Sends messages to Disk files.</td>
    </tr>
    <tr>
      <td style="text-align: left">RotatingFileHandler</td>
      <td style="text-align: left">Sends messages to Disk files and rotates the file when given file size exceed.</td>
    </tr>
    <tr>
      <td style="text-align: left">TimedRotatingFileHandler</td>
      <td style="text-align: left">Sends messages to Disk files and rotates the file at given time interval.</td>
    </tr>
    <tr>
      <td style="text-align: left">SMTPHandler</td>
      <td style="text-align: left">Sends message to a designated email address.</td>
    </tr>
    <tr>
      <td style="text-align: left">MemoryHandler</td>
      <td style="text-align: left">Sends message to buffer in memory which is flushed when specific criteria is matched.</td>
    </tr>
    <tr>
      <td style="text-align: left">NullHandler</td>
      <td style="text-align: left">Do nothing with error messages.</td>
    </tr>
    <tr>
      <td style="text-align: left">WatchedFileHandler</td>
      <td style="text-align: left">used for Unix like system which closes the file and reopens the file when files is changed.</td>
    </tr>
    <tr>
      <td style="text-align: left">QueueHandler</td>
      <td style="text-align: left">Sends message to queue like queue in multiprocessing.</td>
    </tr>
    <tr>
      <td style="text-align: left">HTTPHandler</td>
      <td style="text-align: left">Sends message to HTTP server using GET or POST</td>
    </tr>
    <tr>
      <td style="text-align: left">DatagramHandler</td>
      <td style="text-align: left">Sends message to UDP socket / Unix Domain socket.</td>
    </tr>
    <tr>
      <td style="text-align: left">SocketHandler</td>
      <td style="text-align: left">Sends message to TCP/IP socket / Unix sockets.</td>
    </tr>
    <tr>
      <td style="text-align: left">SysLogHandler</td>
      <td style="text-align: left">Sends message to Unix syslog daemon which may be on remote machine.</td>
    </tr>
    <tr>
      <td style="text-align: left">NTEventLogHandler</td>
      <td style="text-align: left">Sends messages to a Windows NT/2000/XP event log.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="streamhandler">StreamHandler</h3>

<p> Directs log messages to given Stream. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor  </strong> </li>
    </ul> 
</div>

<p id="tut-cons"> StreamHandler(stream=None) </p>

<p> Returns new instance of StreamHandler class with given stream. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> stream : </strong> If given such as stout it will be used for logging output otherwise stderr is used by default. </li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">Emits record to stream, if exception information is present it is formatted using traceback.print_exception().</td>
    </tr>
    <tr>
      <td style="text-align: left">flush()</td>
      <td style="text-align: left">flushes the stream.</td>
    </tr>
    <tr>
      <td style="text-align: left">setStream(stream)</td>
      <td style="text-align: left">Set given stream to handler’s stream. Old stream is flushed before setting the new stream.</td>
    </tr>
  </tbody>
</table>

<div id="tut-content"> 
    <ul>
        <li> <strong> Attributes </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Attribute</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">terminator</td>
      <td style="text-align: left">By default it’s value is  set to ‘\n’ which is used as line terminator when writing formatted string to stream.</td>
    </tr>
  </tbody>
</table>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Example </strong> </li>
    </ul> 
</div>

<div id="code-block-27" class="code-block">
<p id="code-header-27" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-27", "code-header-27")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="n">streamHndlr</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">streamHndlr</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'High CPU usage ......'</span><span class="p">)</span>

<span class="n">streamHndlr</span><span class="o">.</span><span class="n">setStream</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'High CPU usage ......'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
[STDOUT]High CPU usage ......
</pre><pre id="tut-output-error" class="result-content">[STDERR]High CPU usage ......</pre></div>

<hr />

<h3 id="filehandler">FileHandler</h3>

<p> Writes logging output to disk file. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor </strong> </li>
    </ul> 
</div>

<p id="tut-cons"> FileHandler(filename, mode='a', encoding=None, delay=False)  </p>

<p> Returns new instance of FileHandler class. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> filename : </strong> Given filename(path + filename) is opened and used as the stream for logging. </li>
        <li> <strong> mode : </strong> File mode if not specified, by default 'a' is used. </li>
        <li> <strong> encoding : </strong> if given used to open the file, by default system default encoding is used. </li>
        <li> <strong> delay : </strong> Default False opens the file when creating a FileHandler instance, if True it delays file opening until first emit() is called. </li>
    </ul> 
</div>

<p><br /></p>
<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">Outputs the record file.</td>
    </tr>
    <tr>
      <td style="text-align: left">close()</td>
      <td style="text-align: left">close the file.</td>
    </tr>
  </tbody>
</table>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Example </strong> </li>
    </ul> 
</div>

<div id="code-block-28" class="code-block">
<p id="code-header-28" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-28", "code-header-28")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">fileHndlr</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'FileHandler.log'</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fileHndlr</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'FileHandler started ......'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>FileHandler.log</b></p>
<pre class="result-content">
FileHandler started ......
</pre></div>

<hr />

<h3 id="rotatingfilehandler">RotatingFileHandler</h3>

<p> Rotates log file based given max size and maintains given number backup file of given max size. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor </strong> </li>
    </ul> 
</div>

<p id="tut-cons"> RotatingFileHandler(filename, mode='a', maxBytes=0, backupCount=0, encoding=None, delay=False)  </p>

<p> Returns a new instance of the RotatingFileHandler class. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> filename : </strong> Given filename(path + filename) is opened and used as the stream for logging. </li>
        <li> <strong> mode : </strong> File mode if not specified, by default 'a' is used. </li>
        <li> <strong> maxBytes : </strong>When file size exceeds maxBytes, file is closed and new file is opened silently for output. </li>
        <li> <strong> backupCount : </strong> When set to &gt; 0 saves filled log files appending '.1', '.2', '.3' etc up to given number of backupCount. </li>
        <li> <strong> encoding : </strong> If given, used as file encoding or system default encoding is used. </li>
        <li> <strong> delay : </strong> Default False opens the file when creating a FileHandler instance, if True it delays file opening until first emit() is called. </li>
    </ul> 
</div>

<p> If one of 'backupCount' or maxBytes is zero rollover never occurred. </p>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">doRollover()</td>
      <td style="text-align: left">does the rollover.</td>
    </tr>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">outputs the record to file.</td>
    </tr>
  </tbody>
</table>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Example</strong> </li>
    </ul> 
</div>

<div id="code-block-29" class="code-block">
<p id="code-header-29" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-29", "code-header-29")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.handlers</span> <span class="kn">import</span> <span class="n">RotatingFileHandler</span>
<span class="kn">import</span> <span class="nn">secrets</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>


<span class="n">rotatingFH</span> <span class="o">=</span> <span class="n">RotatingFileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">"./rotatingLogs/Applog"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">'a'</span><span class="p">,</span> <span class="n">maxBytes</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">backupCount</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">rotatingFH</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">f</span><span class="s">'generated  16 Bytes Token  [{token}]'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <strong> Output will contain following files : </strong> </p>

<div class="result"><p class="result-header"><b>Applog</b></p>
<pre class="result-content">
generated  16 Bytes Token  [8abf0109f121b04568aab159ded090bd]
generated  16 Bytes Token  [c884bfe7dcee4aa5388ac30225ab01e3]
generated  16 Bytes Token  [cc681d83da6bd3ef29984073f8ea4f02]
generated  16 Bytes Token  [95902918c90542a8d4a23a2af2925013]
</pre></div>

<p><br /></p>

<div class="result"><p class="result-header"><b>Applog.1</b></p>
<pre class="result-content">
generated  16 Bytes Token  [dc6c1b5e41bba3ef71149368f17254aa]
generated  16 Bytes Token  [60acecadb240d5a711550037f6a86ced]
generated  16 Bytes Token  [7fd8dd05bfdf55af13bea50b9cefa968]
generated  16 Bytes Token  [b3aa6f496bf6b0d778cf21e007e45148]
generated  16 Bytes Token  [254874ed3c9da172480e0b2d6db826b4]
generated  16 Bytes Token  [349ecd087d95a50f7c697d8b884a17df]
generated  16 Bytes Token  [90f4e4dbf32c547ed1521c42dda1fb51]
generated  16 Bytes Token  [2bf603744e082d34a017a45040af7541]
</pre></div>

<p><br /></p>

<div class="result"><p class="result-header"><b>Applog.2</b></p>
<pre class="result-content">
generated  16 Bytes Token  [37c1868862c72e8511ae0dd70eeaee11]
generated  16 Bytes Token  [1e06db98e768974db10cbf4df249c278]
generated  16 Bytes Token  [fdbdaaa41aa04b088f8fe1b656a93934]
generated  16 Bytes Token  [3884f76be7188b7cf99ef26040bc1a72]
generated  16 Bytes Token  [fbf7cd0d63e44bbf3994b9efd60532ee]
generated  16 Bytes Token  [5237a766e43f9d7d1060936b4706cf98]
generated  16 Bytes Token  [600b34989d60ea35646f25c92b1f92fe]
generated  16 Bytes Token  [80edd4c3f05baec93a54579a1174fcd0]
</pre></div>

<p><br /></p>

<div class="result"><p class="result-header"><b>Applog.3</b></p>
<pre class="result-content">
generated  16 Bytes Token  [f5db50a9211bb734add1042745f35c05]
generated  16 Bytes Token  [6c0db89b49ff5bb8f5cf5d92e4eea834]
generated  16 Bytes Token  [8cb9d8460f4a357a6d3f45870d0cb7f6]
generated  16 Bytes Token  [f41636a5bde61b3b5bdd09f4a3be1738]
generated  16 Bytes Token  [eb8476b43ca54786d3d7740fbb2d2dda]
generated  16 Bytes Token  [ea744dc26e9ee61985f9f4c4247e47d4]
generated  16 Bytes Token  [2c0978b8c0270c25254113069534b744]
generated  16 Bytes Token  [6d874a5e998d615564831ec67f442ac6]
</pre></div>

<p><br /></p>

<div class="bs-callout bs-callout-primary"><strong>Note</strong> : Older log file exceeding backupCount are deleted automatically.</div>

<hr />

<h3 id="timedrotatingfilehandler">TimedRotatingFileHandler</h3>

<p> Rotates log file based on given time interval.</p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor </strong> </li>
    </ul> 
</div>

<p id="tut-cons"> TimedRotatingFileHandler(filename, when='h', interval=1, backupCount=0, encoding=None, delay=False, utc=False, atTime=None) </p>

<p> Returns a new instance of the TimedRotatingFileHandler class. Rotation of file happens based on 'when' and 'interval' parameters.</p>

<div id="tut-content"> 
    <ul>
        <li> <strong> filename : </strong> Given filename is opened and used as stream for logging. </li>
        <li> <strong> when : </strong> Can have one of the following possible value.  </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">value</th>
      <th style="text-align: left">Type of Interval</th>
      <th style="text-align: left">how atTime is used</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">‘S’</td>
      <td style="text-align: left">Seconds</td>
      <td style="text-align: left">ignored</td>
    </tr>
    <tr>
      <td style="text-align: left">‘M’</td>
      <td style="text-align: left">Minutes</td>
      <td style="text-align: left">ignored</td>
    </tr>
    <tr>
      <td style="text-align: left">‘H’</td>
      <td style="text-align: left">Hours</td>
      <td style="text-align: left">ignored</td>
    </tr>
    <tr>
      <td style="text-align: left">‘D’</td>
      <td style="text-align: left">Days</td>
      <td style="text-align: left">ignored</td>
    </tr>
    <tr>
      <td style="text-align: left">‘W0’-‘W6’</td>
      <td style="text-align: left">Weekday(0=Monday)</td>
      <td style="text-align: left">used for setting initial rollover time</td>
    </tr>
    <tr>
      <td style="text-align: left">‘midnight’</td>
      <td style="text-align: left">Rollover at midnight if atTime not specified else atTime is used</td>
      <td style="text-align: left">used for setting initial rollover time</td>
    </tr>
  </tbody>
</table>

<div id="tut-content"> 
    <ul>
        <li> <strong> interval : </strong> Numeric value according value set in 'when'.</li>
        <li> <strong> utc : </strong> If set to true UTC time is used otherwise local time is used. </li>
        <li> <strong> backupCount :  </strong> Value &gt; zero determines no of backup files to be kept. If more than backupCount log file is created oldest one is deleted. Deletion logic uses interval to determine which file to delete, changing interval will leave old file un-deleted. </li>
        <li> <strong> delay :  </strong> Default False opens the file when creating a FileHandler instance, if True it delays file opening until first emit() is called. </li>
        <li> <strong> atTime : </strong> If given must be an instance of datetime.time which specifies time of the day when rollover of the file occurs. </li>
    </ul> 
</div>

<p> Calculation of initial rollover is calculated when handler is initialized, calculation of subsequent rollover is only done when rollover occurs while emitting output. </p>

<p> For example if  rollover is configured for every minute. It will only create rollover for each minute if and only if there is at least one emit of record per minute.  </p>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">doRollover()</td>
      <td style="text-align: left">Does the rollover</td>
    </tr>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">Output the record to file.</td>
    </tr>
  </tbody>
</table>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Example </strong> </li>
    </ul> 
</div>

<div id="code-block-30" class="code-block">
<p id="code-header-30" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-30", "code-header-30")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.handlers</span> <span class="kn">import</span> <span class="n">TimedRotatingFileHandler</span>
<span class="kn">import</span> <span class="nn">secrets</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>


<span class="n">timedrotateFH</span> <span class="o">=</span> <span class="n">TimedRotatingFileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">"./timedRotatingLogs/Applog"</span><span class="p">,</span> <span class="n">when</span><span class="o">=</span><span class="s">'S'</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">backupCount</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">timedrotateFH</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">45</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">))</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">f</span><span class="s">'generated  16 Bytes Token  [{token}]'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <strong> Output will contain following files : </strong> </p>

<div class="result"><p class="result-header"><b>Applog</b></p>
<pre class="result-content">
generated  16 Bytes Token  [b631fdb68a68f1e27e2a99de17a0dca1]
generated  16 Bytes Token  [4a58daaccd9f3165ed4d40dcb0c2f559]
generated  16 Bytes Token  [8d9ca71833a163acc11da648c055dcc9]
generated  16 Bytes Token  [b5eae34b8b14764ac983f4b2d690e7a6]
generated  16 Bytes Token  [0bdaf09f425daacdadcd9eb02af017f0]

</pre></div>

<p><br /></p>

<div class="result"><p class="result-header"><b>Applog.2020-05-19_21-00-18</b></p>
<pre class="result-content">
generated  16 Bytes Token  [ffdf52db0c5f427ea746414b3779855a]
generated  16 Bytes Token  [e019d634a7ba29fe99134b9ff74dd701]
generated  16 Bytes Token  [2a56855eabbe11035c0712afd3e94686]
generated  16 Bytes Token  [47f0ebba0014847ddfa5c255696a8c9b]
generated  16 Bytes Token  [cdf0e0ef07e7eb602cd22bf3db357698]
generated  16 Bytes Token  [c1711fbb4f0c4cc3591d52073cf25d6e]
generated  16 Bytes Token  [2628316549d6ae9a2c9cb17784878d39]
</pre></div>

<p><br /></p>

<div class="result"><p class="result-header"><b>Applog.2020-05-19_21-00-20</b></p>
<pre class="result-content">
generated  16 Bytes Token  [d438cb42e34baafa1d08f027d0d1a826]
generated  16 Bytes Token  [4c145f2fd42a41894e77be10879fb5f0]
generated  16 Bytes Token  [1cf1cb5094d23da9b9bf0a1b036b751c]
generated  16 Bytes Token  [b50447ccb73ff552d021059d85469159]
generated  16 Bytes Token  [80e1ea68754528e4d303ec980be7f4f3]
generated  16 Bytes Token  [0bfabe6a118741ea718f06df873d8682]
generated  16 Bytes Token  [8dc1d562bc855ceabf0f468a7985b1a9]
generated  16 Bytes Token  [5f5844f6f2fdfb3d757fb41b0bd99c88]
generated  16 Bytes Token  [dd337aab9aeb8479e2da1a3bf011123c]
generated  16 Bytes Token  [9b579c7d86eb1c7f5a5e68001f58409c]
generated  16 Bytes Token  [fec9889e117d8935f9b2b860796adbd1]
generated  16 Bytes Token  [29e946e206436c11caf44fb4640b6ac7]
generated  16 Bytes Token  [9377a529b99ba508d60df981d2cfcf4d]
generated  16 Bytes Token  [4c700b5cf85eb9e674fec1c4f06d378d]
generated  16 Bytes Token  [9aad015f97a257cf809f0030d91a312b]
</pre></div>

<p><br /></p>

<div class="result"><p class="result-header"><b>Applog.2020-05-19_21-00-22</b></p>
<pre class="result-content">
generated  16 Bytes Token  [ec22cf6cc5ea890342aadc0f6937d14b]
generated  16 Bytes Token  [315886cf95c13f36d972070584abcb31]
generated  16 Bytes Token  [4739e88014fdcf734cd0669f535dd2f1]
generated  16 Bytes Token  [2f06ea9085a1c531d2c10df5dfc0a7df]
generated  16 Bytes Token  [67d256471cc351d6a01a16e31a56e0c9]
generated  16 Bytes Token  [1130b948613cfdb0ce6ebcbc4f649273]
generated  16 Bytes Token  [97d7874df62e558e7414789d04fc530a]
generated  16 Bytes Token  [0b931098f3f001e8be31d60bb4bfb0ac]
generated  16 Bytes Token  [fbb1458505982a6df98156b5d02e41e8]
generated  16 Bytes Token  [24c0e78a0ed63cfaf4f11e8802f4a8f2]
generated  16 Bytes Token  [71e3c4c4bba3f85a93b988577ceb13ef]
generated  16 Bytes Token  [bc0072aa27ce4e03a431eb5a11c68c80]
generated  16 Bytes Token  [3434c440cd7c8273e64864dcf6967ca1]
generated  16 Bytes Token  [0dd64cf3f2cda8d091846016c01b1e19]
generated  16 Bytes Token  [68023ffbb6c8a7c7ce2c4333b70d232f]
</pre></div>

<hr />

<h3 id="smtphandler">SMTPHandler</h3>

<p> Sends logging message to email address via SMTP. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor </strong> </li>
    </ul> 
</div>

<p id="tut-cons"> SMTPHandler(mailhost, fromaddr, toaddrs, subject, credentials=None,  secure=None, timeout=1.0) </p>

<p> Returns a new instance of the SMTPHandler class initialized with from and to addresses and subject line of the email. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> mailhost : </strong> For SMTP port a string representing hostname is used , or else Tuple(hostname, port). </li>
        <li> <strong> toaddrs : </strong> list of string which contains email addresses to whom email of log message to be send. </li>
        <li> <strong> credentials : </strong> Takes Tuple(username, password) for authentication. </li>
        <li> <strong> secure : </strong> If credentials argument provided secure argument specify to the use of secure protocol (TLS) in Tuple(keyFile,) or Tuple(keyFile, certificateFile). </li>
        <li> <strong> timeout : </strong> communication timeout with SMTP server. </li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">formats the record and sends to specified email addresses.</td>
    </tr>
    <tr>
      <td style="text-align: left">getSubject(record)</td>
      <td style="text-align: left">defines subject for record, it can be override to return custom subject based on conditions.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="nullhandler">NullHandler</h3>

<p> Discards LogRecords sent to it. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor </strong> </li>
    </ul> 
</div>

<p id="tut-cons"> NullHandler() </p>

<p> Returns instance of  NullHandler which is a 'no-op' handler. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">it does nothing.</td>
    </tr>
    <tr>
      <td style="text-align: left">handle(record)</td>
      <td style="text-align: left">it does nothing.</td>
    </tr>
    <tr>
      <td style="text-align: left">createLock()</td>
      <td style="text-align: left">returns None for the lock, because no underlying I/O to which access needs to be serialized.</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="memoryhandler">MemoryHandler</h3>

<p> Buffers logging records in memory which can periodically be transferred to target handler. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> MemoryHandler(capacity, flushLevel=ERROR, target=None, flushOnClose=True) </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> capacity : </strong> defines maximum number of logging records to be buffered. </li>
        <li> <strong> flushLevel : </strong> By default set to ERROR, flushes buffer when Error is raised. </li>
        <li> <strong> target :  </strong> target handler to handler LogRecords when flush is executed. </li>
        <li> <strong> flushOnClose : </strong> By default True flushes buffered LogRecords to target handler. </li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">shouldFlush(record)</td>
      <td style="text-align: left">returns True if buffer is holding maximum number of records.</td>
    </tr>
    <tr>
      <td style="text-align: left">flush()</td>
      <td style="text-align: left">Sends buffered record to target and clears the buffer if target exists.</td>
    </tr>
    <tr>
      <td style="text-align: left">setTarget(target)</td>
      <td style="text-align: left">sets the target handler for this handler.</td>
    </tr>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">Appends record to buffer.If shouldFlush() returns true, call flush() to process the buffer.</td>
    </tr>
    <tr>
      <td style="text-align: left">close()</td>
      <td style="text-align: left">calls flush(), sets target to None and clears the buffer.</td>
    </tr>
  </tbody>
</table>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Example </strong> </li>
    </ul> 
</div>

<div id="code-block-31" class="code-block">
<p id="code-header-31" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-31", "code-header-31")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.handlers</span> <span class="kn">import</span> <span class="n">MemoryHandler</span>
<span class="kn">import</span> <span class="nn">secrets</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="n">fileHandler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">'FileHandlerErrors.log'</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">'a+'</span><span class="p">)</span>
<span class="n">nullHandler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">NullHandler</span><span class="p">()</span>
<span class="n">memoryHndlr</span> <span class="o">=</span> <span class="n">MemoryHandler</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">nullHandler</span><span class="p">,</span> <span class="n">flushOnClose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">memoryHndlr</span><span class="p">)</span>


<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5000</span><span class="p">):</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">f</span><span class="s">'generated  16 Bytes Token  [{token}]'</span><span class="p">)</span>



<span class="k">try</span><span class="p">:</span>
    <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="n">memoryHndlr</span><span class="o">.</span><span class="n">setTarget</span><span class="p">(</span><span class="n">fileHandler</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">'Division by zero attempted!'</span><span class="p">)</span>
    <span class="n">memoryHndlr</span><span class="o">.</span><span class="n">setTarget</span><span class="p">(</span><span class="n">nullHandler</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>FileHandlerErrors.log</b></p>
<pre class="result-content">
generated  16 Bytes Token  [52304d8b6c57e9d89870bc5dff633af8]
generated  16 Bytes Token  [d8591fe81bf6f75d85dc0ebe10b10999]
generated  16 Bytes Token  [575d1c06fe737578e06e28e1542dbb79]
generated  16 Bytes Token  [a5bc2ccc214e725846fb76feb05343ad]
generated  16 Bytes Token  [5ed652c71132ad641a4c976d90c7f24e]
Division by zero attempted!
</pre></div>

<hr />

<h3 id="watchedfilehandler">WatchedFileHandler</h3>

<p> Watches for the log file changes, if file is moved or removed it closes and reopens the file. It watches the file it is logging to, intended to use for Unix/Linux only. file change happens when UNIX programs such as newsyslog and logrotate performs log rotation. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> WatchedFileHandler(filename, mode='a', encoding=None, delay=False) </p>

<p> Returns a new instance of the WatchedFileHandler class. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> filename : </strong> given filename is opened and used as stream for logging. </li>
        <li> <strong> mode : </strong> Default 'a' is used if not given. </li>
        <li> <strong> encoding : </strong> If given used as file encoding or system default encoding is used. </li>
        <li> <strong> delay : </strong> Default False opens the file when creating a FileHandler instance, if True it delays file opening until first emit() is called.</li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">reopenIfNeeded()</td>
      <td style="text-align: left">Checks to see if file has changed. If changed existing stream is flushed and closed and re-opened again.</td>
    </tr>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">outputs the record by calling first reopenIfNeeded().</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="queuehandler">QueueHandler</h3>

<p> A Multi threaded handler in which handler works on separate thread from the thread which performs logging. It improves response time for handlers which take more time to process such as SMTPHandlers.
</p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> QueueHandler(queue) </p>

<p> Returns a new instance of the QueueHandler class with The instance initialized with the queue to send messages to. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> queue : </strong> Can be any queue like object (SimpleQueue instance). </li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">Enqueue the result of preparing LogRecord. If the queue is full handleError() method is called to handle the error.</td>
    </tr>
    <tr>
      <td style="text-align: left">prepare(record)</td>
      <td style="text-align: left">Prepares the record for queuing , object returned by this method is enqueued. <br /> It formats message, argument and exception information if present.<br /> It removes unpickleable items from the record. <br />This method can be override for converting the record to a dict or JSON string or send a modified copy of record while leaving original copy intact.</td>
    </tr>
    <tr>
      <td style="text-align: left">enqueue(record)</td>
      <td style="text-align: left">Enqueue the record on the queue using put_nowait(). Method can be customized as per requirement.</td>
    </tr>
  </tbody>
</table>

<hr />

<h4 id="queuelistener">QueueListener</h4>

<p> A Multi threaded handler in which handler works on separate thread from the thread which performs logging. It improves response time for handlers which take more time to process such as SMTPHandlers.
</p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> QueueListener(queue, *handlers, respect_handler_level=False) </p>

<p> Returns a new instance of the QueueListener class initialized with queue to send message to and list of handlers which handles entries placed on queue. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> queue : </strong> Can be any queue like object (SimpleQueue instance). </li>
        <li> <strong> respect_handler_level : </strong> If passed True matches handler level with message level before passing message to handler. Default False will pass every message to each handler. </li>
        <li> <strong> *handlers : </strong> handlers which handles the queue entries. </li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">dequeue(block)</td>
      <td style="text-align: left">Dequeue a record and return it, optionally block argument. <br /> <strong>block : </strong> determines the get() call on queue is blocking or non-blocking. <br /> It uses get() method of queue which is by default blocking which can be override to customize behaviour.</td>
    </tr>
    <tr>
      <td style="text-align: left">prepare(record)</td>
      <td style="text-align: left">Prepare a record for handling. <br /> By default it returns the record passed as it is.It can be override to manipulate the record before passing it to the handler.</td>
    </tr>
    <tr>
      <td style="text-align: left">handle(record)</td>
      <td style="text-align: left">Handles the record. It loops through the handlers offering record to handler. It passes the same record returned from prepare().</td>
    </tr>
    <tr>
      <td style="text-align: left">start()</td>
      <td style="text-align: left">Starts the listener which is a background thread to monitor queue for LogRecord to process.</td>
    </tr>
    <tr>
      <td style="text-align: left">stop()</td>
      <td style="text-align: left">Stops the listener. <br /> It asks the thread to stop and then wait for the thread to stop. <br /> If this method is not called before your application exits, there may be some record left on queue which will remain un-processed.</td>
    </tr>
    <tr>
      <td style="text-align: left">enqueue_sentinel()</td>
      <td style="text-align: left">Writes a sentinel to the queue to tell the listener to quit. <br /> It uses put_nowait() by default.</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div id="code-block-32" class="code-block">
<p id="code-header-32" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-32", "code-header-32")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">logging.handlers</span> <span class="kn">import</span> <span class="n">QueueHandler</span><span class="p">,</span> <span class="n">QueueListener</span>
<span class="kn">import</span> <span class="nn">queue</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">logQueue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">SimpleQueue</span><span class="p">()</span>
<span class="n">qHandler</span> <span class="o">=</span> <span class="n">QueueHandler</span><span class="p">(</span><span class="n">logQueue</span><span class="p">)</span>

<span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>  <span class="c1"># Here StreamHandler can be replaced with SMTPHandler.
</span><span class="n">listener</span> <span class="o">=</span> <span class="n">QueueListener</span><span class="p">(</span><span class="n">logQueue</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>


<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">qHandler</span><span class="p">)</span>


<span class="n">listener</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'=========     A message through queue     ========='</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'+++++++++   Second message through queue   +++++++++ '</span><span class="p">)</span>

<span class="n">listener</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
=========     A message through queue     =========
+++++++++   Second message through queue   +++++++++ 
</pre></div>

<hr />

<h3 id="sockethandler">SocketHandler</h3>

<p> Sends logging output to network socket. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> SocketHandler(host, port) </p>

<p> Returns new instance of SocketHandler class. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> host : </strong> Host address. </li>
        <li> <strong> port : </strong> If specified as None uses Unix domain socket using value provided in host, otherwise TCP socket is used.</li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">close()</td>
      <td style="text-align: left">Closes the socket.</td>
    </tr>
    <tr>
      <td style="text-align: left">emit()</td>
      <td style="text-align: left">Pickles the record.__dict__ and writes to socket in binary format.<br /> If error occurred in communication with socket , it drops packet silently. <br /> If connection lost previously it re-establishes the connection. <br /> At receiving end makeLogRecord() function is used for un-pickling the record.</td>
    </tr>
    <tr>
      <td style="text-align: left">handleError()</td>
      <td style="text-align: left">Handles error occurred while executing emit(). <br /> Mostly the cause of the error is a lost connection which can be handled by closing the socket which can be retry on next event.</td>
    </tr>
    <tr>
      <td style="text-align: left">makeSocket()</td>
      <td style="text-align: left">Factory method which allows subclasses to define the precise type of socket. <br /> By default it creates a TCP socket (socket.SOCK_STREAM).</td>
    </tr>
    <tr>
      <td style="text-align: left">makePickle(record)</td>
      <td style="text-align: left">pickles record.__dict__  in binary format with prefix, and returns it ready for transmission across the socket.</td>
    </tr>
    <tr>
      <td style="text-align: left">send(packet)</td>
      <td style="text-align: left">Send a pickled byte-string message to the socket. <br /> It allows partial send which can happen when network is busy.</td>
    </tr>
    <tr>
      <td style="text-align: left">createSocket()</td>
      <td style="text-align: left">Tries to create the socket, on failure uses exponential back-off algorithm. <br /> On initial failure, the handler will drop the message it was trying to send. Subsequent message sent to same instance will wait until timeout expires. &lt;br&gt; Default initial delay is 1 sec, after that on failure it doubles the delay until in reaches maximum 30 sec.</td>
    </tr>
    <tr>
      <td style="text-align: left">createSocket()</td>
      <td style="text-align: left">Tries to create the socket, on failure uses exponential back-off algorithm. On initial failure, the handler will drop the message it was trying to send. Subsequent message sent to same instance will wait until timeout expires. <br /> Default initial delay is 1 sec, after that on failure it doubles the delay until in reaches maximum 30 sec.</td>
    </tr>
  </tbody>
</table>

<p> <strong> Timeout behaviour can be controlled by using following attributes of handler : </strong> </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> retryStart : </strong> (initial delay) default 1.0 sec. </li>
        <li> <strong> retryFactor : </strong> (multiplier) default is 2.0 sec. </li>
        <li> <strong> retryMax : </strong> (maximum delay) default is 30.0 sec. </li>
    </ul> 
</div>

<hr />

<h3 id="datagramhandler">DatagramHandler</h3>

<p> Subclass of SocketHandler which sends logging messages over UDP sockets. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> DatagramHandler(host, port) </p>

<p> Returns new instance of datagramHandler which communicates with remote machine with given host and port. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> host : </strong> Host address. </li>
        <li> <strong> port : </strong> If port is specified as None Unix domain socket is created otherwise, a UDP socket is created.</li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">emit()</td>
      <td style="text-align: left">Pickles the record.<strong>dict</strong> and writes to the socket in binary.<br />If there is an error with socket, drops package silently.<br /> To unpickle the record at receiving end into LogRecord use makeLogRecord() function.</td>
    </tr>
    <tr>
      <td style="text-align: left">makeSocket()</td>
      <td style="text-align: left">Factory method of SocketHandler which is overridden to create UDP socket (socket.SOCK_DGRAM).</td>
    </tr>
    <tr>
      <td style="text-align: left">send(s)</td>
      <td style="text-align: left">Send a pickled byte-string to a socket. Format of byte-string is same as SocketHandler.makePickle().</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="httphandler">HTTPHandler</h3>

<p> Supports sending logging message to a web server using GET and POST method. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> HTTPHandler(host, url, method='GET', secure=False, credentials=None, context=None) </p>

<p> Returns a new instance of the HTTPHandler class. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> host : </strong> Defined as host:port combination. </li>
        <li> <strong> method :  </strong> Default 'GET' is used, it can be give as 'POST'.</li>
        <li> <strong> secure : </strong> If set to 'True' HTTPS is used for secure connection. </li>
        <li> <strong> credentials : </strong> If specified must be Tuple(userId, password) which will be used for authentication. </li>
    </ul> 
</div>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Methods </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">mapLogRecord(record)</td>
      <td style="text-align: left">Returns the dictionary based record which is sent to URL-encoded.<br /> Default implementation returns record.__dict__.<br /> It can be override to send only subset of record.__dict__ to web server.</td>
    </tr>
    <tr>
      <td style="text-align: left">emit(record)</td>
      <td style="text-align: left">Sends the record to the Web server as a URL-encoded dictionary.</td>
    </tr>
  </tbody>
</table>

<div class="bs-callout bs-callout-primary"><strong>Note</strong> : setting formatter() for HTTPHandler() has no effect , for customization of record mapLogRecord() is needs to be override.</div>

<hr />

<h2 id="filters">Filters</h2>

<p> Filters can be used by handlers and loggers for more specific filtering from filtering record based on log level. </p>

<h3 id="filter-class">Filter class</h3>

<p> Filtering log message based on logger hierarchy. </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> Constructor</strong> </li>
    </ul> 
</div>

<p id="tut-cons"> Filter(name='') </p>

<p> Returns an instance of the filter class. </p>

<div id="tut-content"> 
    <ul>
        <li> Base Filter class only allows events which are below the a certain point in the logger hierarchy. For e.g. A filter is initialized with 'A.B' will allow events logged by 'A.B.X', 'A.B.X.Y', 'A.B.Z' but not the 'A.P', 'B.Q'. </li>
        <li> If initialized name with empty string all events are passed. </li>
        <li> Filter attached to handler before an event is emitted by the handler. </li>
        <li> Filter attached to logger before an event is logged using methods like info(), debug() etc.</li>
    </ul> 
</div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> Project Structure  </li>
    </ul> 
</div>
<div id="tut-img">
    <img src="/images/tutorials/python/LoggingWithFilters.png" class="tut-img" alt="python logo" />
</div>

<p><br /></p>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleA2.py </p>

<div id="code-block-33" class="code-block">
<p id="code-header-33" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-33", "code-header-33")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">hello_module</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Message from packageA1 -&gt; ModuleA2'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleB2.py </p>

<div id="code-block-34" class="code-block">
<p id="code-header-34" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-34", "code-header-34")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">hello_module</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Message from packageB1 -&gt; ModuleB2'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> ModuleM1.py </p>

<div id="code-block-35" class="code-block">
<p id="code-header-35" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-35", "code-header-35")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">hello_module</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Message from ModuleM1.'</span><span class="p">)</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> LoggingWithFilter.py </p>

<div id="code-block-36" class="code-block">
<p id="code-header-36" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-36", "code-header-36")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">appLogging.packageA1</span> <span class="kn">import</span> <span class="n">ModuleA2</span>
<span class="kn">from</span> <span class="nn">appLogging.packageB1</span> <span class="kn">import</span> <span class="n">ModuleB2</span>
<span class="kn">from</span> <span class="nn">packageB</span> <span class="kn">import</span> <span class="n">ModuleM1</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'Hierarchy 1 is created'</span><span class="p">)</span>

<span class="c1"># adding Handler
</span><span class="n">sh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="n">sh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>


<span class="c1"># adding filter
</span><span class="n">onlyAppLogging</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span><span class="s">'appLogging'</span><span class="p">)</span>
<span class="n">sh</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">onlyAppLogging</span><span class="p">)</span>

<span class="c1"># attaching handler
</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span>


<span class="c1"># Invoking functions
</span><span class="n">ModuleA2</span><span class="o">.</span><span class="n">hello_module</span><span class="p">()</span>
<span class="n">ModuleB2</span><span class="o">.</span><span class="n">hello_module</span><span class="p">()</span>
<span class="n">ModuleM1</span><span class="o">.</span><span class="n">hello_module</span><span class="p">()</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
Message from packageA1 -&gt; ModuleA2
Message from packageB1 -&gt; ModuleB2
</pre></div>

<hr />

<h3 id="filter-with-custom-business-logic">Filter with custom business logic</h3>

<p> By creating subclass of logging.Filter class and overriding filter method, business logic to filter records can be customized. </p>

<p> Customized filters can also be used fro : </p>

<div id="tut-content"> 
    <ul>
        <li> Counting how many records were processed by a particular logger or handler. </li>
        <li> Adding, changing or removing attributes in the LogRecord being processed. </li>
    </ul> 
</div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Syntax of filter method</strong> </li>
    </ul> 
</div>

<div id="code-block-37" class="code-block">
<p id="code-header-37" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-37", "code-header-37")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">LogRecord</span>


<span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">pass</span></code></pre></figure>

</div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Attributes of LogRecord </strong> </li>
    </ul> 
</div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Attribute</th>
      <th style="text-align: left">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">args</td>
      <td style="text-align: left">Variable positional arguments passed to logging method which is used to format message</td>
    </tr>
    <tr>
      <td style="text-align: left">created</td>
      <td style="text-align: left">Unix timestamp of when log record was created</td>
    </tr>
    <tr>
      <td style="text-align: left">exc_info</td>
      <td style="text-align: left">Exception information pass in format of sys.exc_info()</td>
    </tr>
    <tr>
      <td style="text-align: left">exc_text</td>
      <td style="text-align: left">Cached formatted exception</td>
    </tr>
    <tr>
      <td style="text-align: left">filename</td>
      <td style="text-align: left">Name of file</td>
    </tr>
    <tr>
      <td style="text-align: left">funcName</td>
      <td style="text-align: left">Function name</td>
    </tr>
    <tr>
      <td style="text-align: left">levelname</td>
      <td style="text-align: left">Logging level name</td>
    </tr>
    <tr>
      <td style="text-align: left">levelno</td>
      <td style="text-align: left">Logging level numeric</td>
    </tr>
    <tr>
      <td style="text-align: left">lineno</td>
      <td style="text-align: left">Line number where logging method was invoked.</td>
    </tr>
    <tr>
      <td style="text-align: left">module</td>
      <td style="text-align: left">Module name</td>
    </tr>
    <tr>
      <td style="text-align: left">msecs</td>
      <td style="text-align: left">Millisecond portion of time when log was created</td>
    </tr>
    <tr>
      <td style="text-align: left">msg</td>
      <td style="text-align: left">message passed to logging method</td>
    </tr>
    <tr>
      <td style="text-align: left">name</td>
      <td style="text-align: left">Name of the logger instance</td>
    </tr>
    <tr>
      <td style="text-align: left">pathname</td>
      <td style="text-align: left">Full path name of source file</td>
    </tr>
    <tr>
      <td style="text-align: left">process</td>
      <td style="text-align: left">Process ID of program</td>
    </tr>
    <tr>
      <td style="text-align: left">processName</td>
      <td style="text-align: left">Name of Process</td>
    </tr>
    <tr>
      <td style="text-align: left">relativeCreated</td>
      <td style="text-align: left">Milliseconds in time of when message logged relative to time when module was loaded.</td>
    </tr>
    <tr>
      <td style="text-align: left">stack_info</td>
      <td style="text-align: left">Stack information of call</td>
    </tr>
    <tr>
      <td style="text-align: left">thread</td>
      <td style="text-align: left">Thread id</td>
    </tr>
    <tr>
      <td style="text-align: left">threadName</td>
      <td style="text-align: left">Thread name</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div id="tut-content"> 
    <ul>
        <li> <strong>Filtering record based on message content</strong> </li>
    </ul> 
</div>

<div id="code-block-38" class="code-block">
<p id="code-header-38" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-38", "code-header-38")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">LogRecord</span>


<span class="k">class</span> <span class="nc">CustomFilter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Filter</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'</span><span class="se">\n</span><span class="s">{"*"*8} Filter received LogRecord : {"*"*8}</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">record</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">a</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'__'</span><span class="p">)]:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'{attr} : {getattr(record, attr)}'</span><span class="p">)</span>

        <span class="k">if</span> <span class="s">'Failure'</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">msg</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span>


<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'CustomFilterLogger'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="c1"># Creating Handler
</span><span class="n">sh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">sh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="c1"># Adding Filter
</span><span class="n">cf</span> <span class="o">=</span> <span class="n">CustomFilter</span><span class="p">()</span>
<span class="n">sh</span><span class="o">.</span><span class="n">addFilter</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>

<span class="c1"># Adding formatter
</span><span class="n">logFormat</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(name)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">)</span>
<span class="n">sh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">logFormat</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span>


<span class="c1"># Logging record
</span><span class="k">def</span> <span class="nf">custom_filter_demo</span><span class="p">():</span>
    <span class="n">code</span> <span class="o">=</span> <span class="mi">1590</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Client connection Failure : </span><span class="si">%</span><span class="s">s'</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">stack_info</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="p">{</span><span class="s">'POD'</span><span class="p">:</span> <span class="s">'AACXXX'</span><span class="p">})</span>


<span class="n">custom_filter_demo</span><span class="p">()</span>


<span class="c1">#
# Logging Exception
</span><span class="k">def</span> <span class="nf">custom_filter_demo2</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
    <span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'Divide by Zero attempted'</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">(),</span> <span class="n">stack_info</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="n">custom_filter_demo2</span><span class="p">()</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">2020-05-23 09:46:02,122 : DEBUG : CustomFilterLogger : Client connection Failure : 1590
Stack (most recent call last):
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py", line 48, in &lt;module&gt;
    custom_filter_demo()
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py", line 45, in custom_filter_demo
    logger.debug('Client connection Failure : %s', code, stack_info=True, extra={'POD': 'AACXXX'})
</pre>
<pre class="result-content">

******** Filter received LogRecord : ********

POD : AACXXX
args : (1590,)
created : 1590207362.1229954
exc_info : None
exc_text : None
filename : LoggingWithContextFilter.py
funcName : custom_filter_demo
getMessage : &lt;bound method LogRecord.getMessage of &lt;LogRecord: CustomFilterLogger, 10, /home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py, 45, "Client connection Failure : %s"&gt;&gt;
levelname : DEBUG
levelno : 10
lineno : 45
module : LoggingWithContextFilter
msecs : 122.99537658691406
msg : Client connection Failure : %s
name : CustomFilterLogger
pathname : /home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py
process : 5289
processName : MainProcess
relativeCreated : 3.4301280975341797
stack_info : Stack (most recent call last):
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py", line 48, in &lt;module&gt;
    custom_filter_demo()
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py", line 45, in custom_filter_demo
    logger.debug('Client connection Failure : %s', code, stack_info=True, extra={'POD': 'AACXXX'})
thread : 139877265205056
threadName : MainThread

******** Filter received LogRecord : ********

args : ()
created : 1590207362.1236613
exc_info : (&lt;class 'ZeroDivisionError'&gt;, ZeroDivisionError('division by zero'), &lt;traceback object at 0x7f37b6611a00&gt;)
exc_text : None
filename : LoggingWithContextFilter.py
funcName : custom_filter_demo2
getMessage : &lt;bound method LogRecord.getMessage of &lt;LogRecord: CustomFilterLogger, 30, /home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py, 57, "Divide by Zero attempted"&gt;&gt;
levelname : WARNING
levelno : 30
lineno : 57
module : LoggingWithContextFilter
msecs : 123.66127967834473
msg : Divide by Zero attempted
name : CustomFilterLogger
pathname : /home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py
process : 5289
processName : MainProcess
relativeCreated : 4.096031188964844
stack_info : Stack (most recent call last):
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py", line 60, in &lt;module&gt;
    custom_filter_demo2()
  File "/home/asha/PycharmProjects/pythonEx/06_ModuleAndPackage/appLogging/LoggingWithContextFilter.py", line 57, in custom_filter_demo2
    logger.warning('Divide by Zero attempted', exc_info=sys.exc_info(), stack_info=True)
thread : 139877265205056
threadName : MainThread</pre></div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> <strong> Creating subclass of the filter is not required, any function ( callable) can be with same signature of filter method can be replaced on Filter object.</strong> </li>
    </ul> 
</div>

<p> Replacing following code in above example produces same result. </p>

<div id="code-block-39" class="code-block">
<p id="code-header-39" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-39", "code-header-39")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">LogRecord</span><span class="p">,</span> <span class="n">Filter</span>

<span class="k">def</span> <span class="nf">custom_filter</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'</span><span class="se">\n</span><span class="s">{"*"*8} Filter received LogRecord : {"*"*8}</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">record</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">a</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'__'</span><span class="p">)]:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'{attr} : {getattr(record, attr)}'</span><span class="p">)</span>

    <span class="k">if</span> <span class="s">'Failure'</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">msg</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="mi">0</span>



<span class="n">f1</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">()</span>
<span class="n">f1</span><span class="o">.</span><span class="nb">filter</span> <span class="o">=</span> <span class="n">custom_filter</span></code></pre></figure>

</div>

<hr />

<h2 id="loggeradapter">LoggerAdapter</h2>

<p> Adds contextual information to log message. </p>

<div id="tut-content"> 
    <ul>
        <li> To add contextual information Object of LoggerAdapter class can be wrapped around logger instance. </li>
        <li> It has same logging methods (debug(), info() etc.) for logging as the logger object have. </li>
        <li> LoggerAdapter's logging methods (debug(), info() etc.) delegates call to logger objects logging methods after invoking process() method. </li>
    </ul> 
</div>

<p> Syntax of debug() logging method of LoggerAdapter class : </p>

<div id="code-block-40" class="code-block">
<p id="code-header-40" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-40", "code-header-40")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code></pre></figure>

</div>

<div id="tut-content"> 
    <ul>
        <li>  By default process() method returns given argument as it is, but it can be override to get insert contextual information. </li>
        <li> Inside process() method key-values of dictionary passed using 'extra' parameter is used for formatting custom message. </li>
        <li> While invoking logging methods of LoggerAdapter class, it requires to pass dictionary object with set of key which is used to format custom message, but their values can vary. </li>
    </ul> 
</div>

<hr />

<div id="tut-content"> 
    <ul>
        <li> Example </li>
    </ul> 
</div>

<div id="code-block-41" class="code-block">
<p id="code-header-41" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-41", "code-header-41")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>


<span class="k">class</span> <span class="nc">MyAppLogAdapter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">LoggerAdapter</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">f</span><span class="s">"[ {self.extra['clientId']} ]  {msg} "</span><span class="p">,</span> <span class="n">kwargs</span>


<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'appLogginngAdapter'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="c1"># adding Handler
</span><span class="n">sh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">sh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="c1"># Adding formatter
</span><span class="n">logFormat</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(name)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">)</span>
<span class="n">sh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">logFormat</span><span class="p">)</span>

<span class="c1"># adding handler to logger
</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span>

<span class="n">clientInfo</span> <span class="o">=</span> <span class="p">{</span><span class="s">'clientId'</span><span class="p">:</span> <span class="s">'1cv21vvc21vbctztxymn12pa'</span><span class="p">}</span>
<span class="n">loggerAdapter</span> <span class="o">=</span> <span class="n">MyAppLogAdapter</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">clientInfo</span><span class="p">)</span>

<span class="n">loggerAdapter</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Login Attempted'</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Normal Log message'</span><span class="p">)</span>

<span class="n">clientInfo</span><span class="p">[</span><span class="s">'clientId'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'1z3x2c1as1ca21a5s4a21sxc'</span>
<span class="n">loggerAdapter</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'Login Attempted'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre id="tut-output-error" class="result-content">2020-05-23 13:57:44,518 : DEBUG : appLogginngAdapter : [ 1cv21vvc21vbctztxymn12pa ]  Login Attempted 
2020-05-23 13:57:44,518 : DEBUG : appLogginngAdapter : Normal Log message
2020-05-23 13:57:44,519 : DEBUG : appLogginngAdapter : [ 1z3x2c1as1ca21a5s4a21sxc ]  Login Attempted</pre></div>

<hr />

<h2 id="formatter">Formatter</h2>

<p> Returns formatted string by replacing LogRecord object's attributes values with keys specified in log format. </p>

<h3 id="formatter-class">Formatter class</h3>

<p> When application requires special formatting, custom formatter object of Format class is created. </p>

<h4 id="constructor-1">Constructor</h4>

<p id="tut-cons"> Formatter(fmt=None, datefmt=None, style='%') </p>

<div id="tut-content"> 
    <ul>
        <li> <strong> fmt : </strong> Default none uses raw message. Format can be specified using formatting params described in basicConfig(). </li>
        <li> <strong> datefmt : </strong> If not given by default uses '%Y-%m-%d %H:%M:%S. It is same datetime format used with DateTime object. </li>
        <li> <strong> style : </strong> Default is '%' and can be one of '%', '$' or '{'. <br />  <strong> '%'  : </strong> uses  %(&lt;dictionary key&gt;)s styled string substitution. <br /> <strong> '$' : </strong> uses  Template('$key').substitute(key=&lt;dictionary key&gt;) styled string substitution.<br /> <strong> '{' : </strong> uses  '{0}'.format(&lt;dictionary key&gt;) or '{&lt;dictionary key&gt;}' </li>
    </ul> 
</div>

<h4 id="methods">Methods</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Method</th>
      <th style="text-align: left">Exmplanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">format(record)</td>
      <td style="text-align: left">Returns log message in string by replacing LogRecord information with specified format.</td>
    </tr>
    <tr>
      <td style="text-align: left">formatTime(record, datefmt=None)</td>
      <td style="text-align: left">It is called from format() method which returns formatted time if format string contains ‘(asctime)’.</td>
    </tr>
    <tr>
      <td style="text-align: left">formatException(exc_info)</td>
      <td style="text-align: left">It’s called from format() when logging method with exception information is called. By default uses traceback.print_exception() to format exception.</td>
    </tr>
    <tr>
      <td style="text-align: left">formatStack(stack_info)</td>
      <td style="text-align: left">It’s called from format() when logging method with stack trace is called. By default formats the specified stack information returned by traceback.print_stack().</td>
    </tr>
  </tbody>
</table>

<h4 id="attributes-1">Attributes</h4>

<div id="tut-content"> 
    <ul>
        <li> <strong>  converter : </strong> By default time.localtime() is used for creation of time for log record. It can have one of two values time.localtime() or time.gmtime(). </li>
    </ul> 
</div>

<hr />

<h4 id="example">Example</h4>

<div id="code-block-42" class="code-block">
<p id="code-header-42" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-42", "code-header-42")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>

<span class="c1"># formatting using '{'
</span><span class="n">cf</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s">'{asctime} : {levelname} : {name} : {message}'</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">'{'</span><span class="p">)</span>
<span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>

<span class="c1"># Add handler
</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>

<span class="n">applogger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'MyAppLogger'</span><span class="p">)</span>
<span class="n">applogger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">"A message using { formatter  configuration."</span><span class="p">)</span>

<span class="c1"># formatting using '$'
</span><span class="n">df</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s">'$asctime : $levelname : $name : $message'</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">'$'</span><span class="p">)</span>
<span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">converter</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span>

<span class="n">applogger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">"A message using $ formatter  configuration."</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
2020-05-23 15:25:00,732 : DEBUG : MyAppLogger : A message using { formatter  configuration.
2020-05-23 09:55:00,732 : DEBUG : MyAppLogger : A message using $ formatter  configuration.
</pre></div>

<hr />

<h2 id="configuring-logging">Configuring Logging</h2>

<h3 id="using-python-code">Using Python code</h3>

<p> Creating logger, handler, formatter objects in python code and setting handler and formatter to logger object. </p>

<div id="code-block-43" class="code-block">
<p id="code-header-43" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-43", "code-header-43")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># create logger
</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="c1"># create console handler and set level to debug
</span><span class="n">ch</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="n">ch</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>

<span class="c1"># create formatter
</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s">'</span><span class="si">%(asctime)</span><span class="s">s - </span><span class="si">%(name)</span><span class="s">s - </span><span class="si">%(levelname)</span><span class="s">s - </span><span class="si">%(message)</span><span class="s">s'</span><span class="p">)</span>

<span class="c1"># add formatter to ch
</span><span class="n">ch</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

<span class="c1"># add ch to logger
</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>

<span class="c1"># 'application' code
</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'debug message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'info message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'warn message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">'error message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s">'critical message'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
2020-05-23 15:41:18,524 - __main__ - WARNING - warn message
2020-05-23 15:41:18,524 - __main__ - ERROR - error message
2020-05-23 15:41:18,524 - __main__ - CRITICAL - critical message
</pre></div>

<hr />

<h3 id="using-loggingconfig-file">Using logging.config file</h3>

<p> Create a logging.config file and reading it using logging.config.fileconfig() function.</p>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> logging.conf </p>

<div id="code-block-44" class="code-block">
<p id="code-header-44" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-44", "code-header-44")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[</span><span class="n">loggers</span><span class="p">]</span>
<span class="n">keys</span><span class="o">=</span><span class="n">root</span><span class="p">,</span><span class="n">module1</span>

<span class="p">[</span><span class="n">handlers</span><span class="p">]</span>
<span class="n">keys</span><span class="o">=</span><span class="n">consoleHandler</span>

<span class="p">[</span><span class="n">formatters</span><span class="p">]</span>
<span class="n">keys</span><span class="o">=</span><span class="n">simpleFormatter</span>

<span class="p">[</span><span class="n">logger_root</span><span class="p">]</span>
<span class="n">level</span><span class="o">=</span><span class="n">DEBUG</span>
<span class="n">handlers</span><span class="o">=</span><span class="n">consoleHandler</span>

<span class="p">[</span><span class="n">logger_module1</span><span class="p">]</span>
<span class="n">level</span><span class="o">=</span><span class="n">DEBUG</span>
<span class="n">handlers</span><span class="o">=</span><span class="n">consoleHandler</span>
<span class="n">qualname</span><span class="o">=</span><span class="n">module1</span>
<span class="n">propagate</span><span class="o">=</span><span class="mi">0</span>

<span class="p">[</span><span class="n">handler_consoleHandler</span><span class="p">]</span>
<span class="n">class</span><span class="o">=</span><span class="n">StreamHandler</span>
<span class="n">level</span><span class="o">=</span><span class="n">DEBUG</span>
<span class="n">formatter</span><span class="o">=</span><span class="n">simpleFormatter</span>
<span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,)</span>

<span class="p">[</span><span class="n">formatter_simpleFormatter</span><span class="p">]</span>
<span class="nb">format</span><span class="o">=%</span><span class="p">(</span><span class="n">asctime</span><span class="p">)</span><span class="n">s</span> <span class="o">-</span> <span class="o">%</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="n">s</span> <span class="o">-</span> <span class="o">%</span><span class="p">(</span><span class="n">levelname</span><span class="p">)</span><span class="n">s</span> <span class="o">-</span> <span class="o">%</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="n">s</span>
<span class="n">qualname</span><span class="o">=</span> <span class="n">module1</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> Module2.py </p>

<div id="code-block-45" class="code-block">
<p id="code-header-45" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-45", "code-header-45")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.config</span> <span class="kn">import</span> <span class="n">fileConfig</span>

<span class="n">fileConfig</span><span class="p">(</span><span class="s">'logging.conf'</span><span class="p">)</span>

<span class="c1"># create logger
</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'module1'</span><span class="p">)</span>

<span class="c1"># 'application' code
</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'debug message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'info message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'warn message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">'error message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s">'critical message'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
2020-05-23 15:55:25,175 - module1 - DEBUG - debug message
2020-05-23 15:55:25,176 - module1 - INFO - info message
2020-05-23 15:55:25,176 - module1 - WARNING - warn message
2020-05-23 15:55:25,176 - module1 - ERROR - error message
2020-05-23 15:55:25,176 - module1 - CRITICAL - critical message
</pre></div>

<hr />

<h3 id="using-dictionary-recommended">Using Dictionary [Recommended]</h3>

<p> Create a dictionary of configuration and passing it to dictconfig() function.</p>

<div id="tut-content"> 
    <ul>
        <li> Configuration can be provided in YAML, JSON format or in python dictionary stored using pickle. </li>
        <li> YAML is recommended and widely accepted for storing dictionary. </li>
    </ul> 
</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> logging.yml </p>

<div id="code-block-46" class="code-block">
<p id="code-header-46" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-46", "code-header-46")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">version</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">formatters</span><span class="p">:</span>
  <span class="n">simple</span><span class="p">:</span>
    <span class="nb">format</span><span class="p">:</span> <span class="s">'</span><span class="si">%(asctime)</span><span class="s">s : </span><span class="si">%(name)</span><span class="s">s : </span><span class="si">%(levelname)</span><span class="s">s : </span><span class="si">%(message)</span><span class="s">s'</span>
<span class="n">handlers</span><span class="p">:</span>
  <span class="n">console</span><span class="p">:</span>
    <span class="n">class</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span>
    <span class="n">level</span><span class="p">:</span> <span class="n">DEBUG</span>
    <span class="n">formatter</span><span class="p">:</span> <span class="n">simple</span>
    <span class="n">stream</span><span class="p">:</span> <span class="n">ext</span><span class="p">:</span><span class="o">//</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
<span class="n">loggers</span><span class="p">:</span>
  <span class="n">module1</span><span class="p">:</span>
    <span class="n">level</span><span class="p">:</span> <span class="n">DEBUG</span>
    <span class="n">handlers</span><span class="p">:</span> <span class="p">[</span><span class="n">console</span><span class="p">]</span>
    <span class="n">propagate</span><span class="p">:</span> <span class="n">no</span>
<span class="n">root</span><span class="p">:</span>
  <span class="n">level</span><span class="p">:</span> <span class="n">DEBUG</span>
  <span class="n">handlers</span><span class="p">:</span> <span class="p">[</span><span class="n">console</span><span class="p">]</span></code></pre></figure>

</div>

<p> <i class="fa fa-file-text" aria-hidden="true"></i> logging.yml </p>

<div id="code-block-47" class="code-block">
<p id="code-header-47" class="code-header" data-toggle="tooltip" data-original-title="Copy to ClipBoard"><b>Copy</b></p><script type="text/javascript">copyHover("code-block-47", "code-header-47")</script>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logging.config</span> <span class="kn">import</span> <span class="n">dictConfig</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">yaml</span>    <span class="c1"># pip install pyyaml
</span>
<span class="n">path</span> <span class="o">=</span> <span class="s">'logging.yml'</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">'rt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="n">dictConfig</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="c1"># create logger
</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'module1'</span><span class="p">)</span>

<span class="c1"># 'application' code
</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">'debug message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'info message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s">'warn message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">'error message'</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s">'critical message'</span><span class="p">)</span></code></pre></figure>

</div>

<div class="result"><p class="result-header"><b>Output</b></p>
<pre class="result-content">
2020-05-23 16:08:03,234 : module1 : DEBUG : debug message
2020-05-23 16:08:03,234 : module1 : INFO : info message
2020-05-23 16:08:03,234 : module1 : WARNING : warn message
2020-05-23 16:08:03,234 : module1 : ERROR : error message
2020-05-23 16:08:03,234 : module1 : CRITICAL : critical message
</pre></div>

<hr />



    <div class="tags">
        
        <p style="display: inline;"><b>Tags: </b></p>
        
        
        
    </div>

<a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button">
    <span class="fa fa-arrow-up" tabindex="-1"></span>
</a>

<!-- 
<div id="commento"></div>
<script src="https://cdn.commento.io/js/commento.js"></script>
<noscript>Please enable JavaScript to load the comments.</noscript>

 -->

</div>

<!-- <hr class="shaded"/> -->

<div class="seriesContext" align="right">

    

    
        <a href="python_module_package_import.html" >
            <button type="button" class="btn btn-primary  "> 
                 <span class="fa fa-arrow-circle-left fa-lg"></span>  Previous  <br/>
                 Module, Package and Import 
            </button>
        </a>
    

    

    

</div>


<hr />

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    <p><img src="images/company_logo.png" alt="Company logo"/></p>
               <p id='copyright'>&copy; 2020 Asha Tutorials.<br /> All rights reserved.</p> <br />
 
<br/><br/><br/>

                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
